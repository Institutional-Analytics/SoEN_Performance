<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School of Engineering Academic Performance Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.8);
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.05);
            padding: 5px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            flex-wrap: wrap;
        }

        .tab {
            padding: 10px 18px;
            background: transparent;
            border: none;
            color: #b8b8d1;
            cursor: pointer;
            border-radius: 10px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            font-weight: 500;
            flex: 1;
            min-width: 140px;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .kpi-value {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .kpi-value.good {
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .kpi-value.warning {
            background: linear-gradient(45deg, #ffd93d, #ff9800);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .kpi-value.danger {
            background: linear-gradient(45deg, #ff6b6b, #ff4757);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .kpi-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9em;
        }

        .kpi-change {
            font-size: 0.8em;
            margin-top: 5px;
            color: rgba(255, 255, 255, 0.6);
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .card h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
            color: #ffd93d;
        }

        .alert-card {
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid rgba(255, 107, 107, 0.3);
        }

        .alert-card h3 {
            color: #ff6b6b;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .insight {
            background: rgba(102, 126, 234, 0.2);
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
        }

        .insight h4 {
            color: #667eea;
            margin-bottom: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(255, 255, 255, 0.05);
            font-weight: 600;
            color: #ffd93d;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        /* Enhanced Radar Chart */
        .radar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
        }

        .radar-chart {
            width: 450px;
            height: 450px;
            position: relative;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .radar-svg {
            width: 100%;
            height: 100%;
        }

        .radar-legend {
            display: flex;
            gap: 40px;
            margin-top: 20px;
            font-size: 0.9em;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #b8b8d1;
        }

        .legend-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .legend-dot.soen {
            background: linear-gradient(45deg, #ff6b6b, #ff4757);
        }

        .legend-dot.non-soen {
            background: linear-gradient(45deg, #4caf50, #8bc34a);
        }

        /* Demographics Styles */
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .demo-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-bar {
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            margin: 8px 0;
        }

        .demo-fill {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: #fff;
            font-weight: 600;
            font-size: 0.85em;
            transition: width 1.5s ease-out;
        }

        .demo-fill.male {
            background: linear-gradient(90deg, #2196f3, #64b5f6);
        }

        .demo-fill.female {
            background: linear-gradient(90deg, #e91e63, #f06292);
        }

        .demo-fill.age {
            background: linear-gradient(90deg, #9c27b0, #ba68c8);
        }

        /* Instructor Analysis */
        .instructor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .instructor-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .instructor-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .instructor-name {
            font-weight: 600;
            color: #b8b8d1;
            flex: 1;
        }

        .instructor-stats {
            display: flex;
            gap: 15px;
            font-size: 0.85em;
        }

        .stat-good {
            color: #4caf50;
        }

        .stat-warning {
            color: #ffd93d;
        }

        .stat-danger {
            color: #ff6b6b;
        }

        /* High School Analysis */
        .school-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .school-card {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .school-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .school-name {
            font-weight: 600;
            color: #ffd93d;
            font-size: 0.9em;
        }

        .school-count {
            font-size: 0.8em;
            color: #b8b8d1;
        }

        .school-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .metric {
            text-align: center;
            padding: 8px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 6px;
        }

        .metric-value {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 2px;
        }

        .metric-label {
            font-size: 0.75em;
            color: #b8b8d1;
        }

        /* Repeat Analysis */
        .repeat-analysis {
            background: rgba(255, 255, 255, 0.03);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .repeat-course {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
        }

        .repeat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .course-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #ffd93d;
        }

        .repeat-stats {
            font-size: 0.85em;
            color: #b8b8d1;
        }

        .attempt-row {
            display: grid;
            grid-template-columns: 80px 120px 1fr;
            gap: 15px;
            align-items: center;
            margin: 8px 0;
        }

        .attempt-num {
            text-align: center;
            font-weight: bold;
            color: #667eea;
        }

        .attempt-count {
            text-align: center;
            color: #b8b8d1;
        }

        .attempt-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .attempt-fill {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            color: #fff;
            font-size: 0.75em;
            font-weight: bold;
            transition: width 1s ease-out;
        }

        .attempt-fill.good {
            background: linear-gradient(90deg, #4caf50, #66bb6a);
        }

        .attempt-fill.warning {
            background: linear-gradient(90deg, #ff9800, #ffb74d);
        }

        .attempt-fill.danger {
            background: linear-gradient(90deg, #ff6b6b, #ff8a80);
        }

        /* Math Progression */
        .math-flow {
            background: rgba(255, 255, 255, 0.02);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 20px 0;
        }

        .flow-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .math-level {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            min-width: 150px;
        }

        .math-level.remedial {
            border-color: rgba(255, 152, 0, 0.5);
            background: rgba(255, 152, 0, 0.1);
        }

        .math-level.intermediate {
            border-color: rgba(255, 193, 7, 0.5);
            background: rgba(255, 193, 7, 0.1);
        }

        .math-level.advanced {
            border-color: rgba(76, 175, 80, 0.5);
            background: rgba(76, 175, 80, 0.1);
        }

        .flow-arrow {
            font-size: 2em;
            color: #667eea;
        }

        /* Enhanced EENG435 Analysis */
        .eeng435-comparison {
            background: rgba(255, 255, 255, 0.03);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .major-comparison {
            text-align: center;
            padding: 25px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            border: 2px solid;
        }

        .major-comparison.meng {
            border-color: rgba(255, 152, 0, 0.4);
        }

        .major-comparison.eeng {
            border-color: rgba(76, 175, 80, 0.4);
        }

        .major-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .major-title.meng {
            color: #ff9800;
        }

        .major-title.eeng {
            color: #4caf50;
        }

        .comparison-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 8px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
        }

        .metric-name {
            color: #b8b8d1;
            font-size: 0.9em;
        }

        .metric-val {
            font-weight: bold;
            font-size: 1.1em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                flex: none;
                width: 100%;
                margin-bottom: 5px;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .radar-chart {
                width: 350px;
                height: 350px;
            }
            
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .flow-diagram {
                flex-direction: column;
                gap: 20px;
            }
            
            .flow-arrow {
                transform: rotate(90deg);
            }
        }
    
        .campus-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .campus-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .campus-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .metric-group {
            text-align: center;
        }
        
        .metric-label {
            color: #b8b8d1;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
        }
    
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>School of Engineering Academic Performance Dashboard</h1>
            <p>Spring 2024-2025 • Deep Analysis of SoEN Performance Challenges</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">Overview</button>
            <button class="tab" onclick="showTab('soas-comparison')">SoEN vs Non-SoEN in SoAS</button>
            <button class="tab" onclick="showTab('demographics')">Demographics & Admission</button>
            <button class="tab" onclick="showTab('repeat-analysis')">Repeat Analysis</button>
            <button class="tab" onclick="showTab('campus-analysis')">Campus Analysis</button>
            <button class="tab" onclick="showTab('math-progression')">Math Progression</button>
            <button class="tab" onclick="showTab('eeng435-deep')">EENG435 Deep Dive</button>
            <button class="tab" onclick="showTab('department')">Department Analysis</button>
            <button class="tab" onclick="showTab('class-levels')">Class Levels</button>
            <button class="tab" onclick="showTab('timeslot')">Timeslot Analysis</button>
            <button class="tab" onclick="showTab('previous-semesters')">Previous Semesters</button>
            <button class="tab" onclick="showTab('course-synergy')">Course Synergy</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px; margin-bottom: 30px;">
                <!-- Enhanced GPA Breakdown Section -->
                <div style="background: rgba(102, 126, 234, 0.1); padding: 25px; border-radius: 15px;">
                    <h4 style="color: #667eea; margin-bottom: 20px; text-align: center;">📊 GPA Breakdown</h4>
                    <div style="text-align: center; margin-bottom: 25px;">
                        <div style="font-size: 3.5em; font-weight: bold; color: #ff6b6b;">
                            2.33
                        </div>
                        <div style="font-size: 1.2em; color: #b8b8d1; margin-top: 5px;">Overall GPA</div>
                        <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.6);">Spring 2024-2025</div>
                    </div>
                    <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div style="flex: 1;">
                                <div style="font-size: 0.9em; color: #b8b8d1;">SoAS Courses</div>
                                <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">
                                    2.13
                                </div>
                                <div style="font-size: 0.75em; color: rgba(255, 255, 255, 0.5);">Academic courses</div>
                            </div>
                            <div style="width: 1px; height: 60px; background: rgba(255, 255, 255, 0.2); margin: 0 20px;"></div>
                            <div style="flex: 1;">
                                <div style="font-size: 0.9em; color: #b8b8d1;">SoEN Courses</div>
                                <div style="font-size: 2em; font-weight: bold; color: #ff9800;">
                                    2.36
                                </div>
                                <div style="font-size: 0.75em; color: rgba(255, 255, 255, 0.5);">Engineering courses</div>
                            </div>
                        </div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.5); text-align: center; margin-top: 10px;">
                            SoEN students' performance by course school
                        </div>
                    </div>
                </div>
                
                <!-- Other KPIs Grid -->
                <div class="kpi-grid" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
                    <div class="kpi-card">
                        <div class="kpi-value danger">77.7%</div>
                        <div class="kpi-label">Pass Rate</div>
                        <div class="kpi-change">All Courses</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value danger">12.3%</div>
                        <div class="kpi-label">Fail Rate</div>
                        <div class="kpi-change">F Grades</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value danger">30.5%</div>
                        <div class="kpi-label">D/F Rate</div>
                        <div class="kpi-change">Probation Risk</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value warning">9.9%</div>
                        <div class="kpi-label">Withdrawal</div>
                        <div class="kpi-change">W/AW Rate</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value">29,871</div>
                        <div class="kpi-label">Enrollments</div>
                        <div class="kpi-change">Total Courses</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value">6,043</div>
                        <div class="kpi-label">Students</div>
                        <div class="kpi-change">Unique Learners</div>
                    </div>
                </div>
            </div>


            <div class="grid">
                <div class="card">
                    <h3>Engineering vs Non-Engineering Course Performance</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        <div style="text-align: center; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 15px; border: 2px solid rgba(76, 175, 80, 0.3);">
                            <div style="font-size: 2.5em; font-weight: bold; color: #4caf50; margin-bottom: 10px;">82.6%</div>
                            <div style="color: #b8b8d1; margin-bottom: 15px;">Engineering Courses</div>
                            <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                                19,808 enrollments<br>
                                4,737 unique students<br>
                                10.6% fail rate
                            </div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 107, 107, 0.1); border-radius: 15px; border: 2px solid rgba(255, 107, 107, 0.3);">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b; margin-bottom: 10px;">68.1%</div>
                            <div style="color: #b8b8d1; margin-bottom: 15px;">Non-Engineering Courses</div>
                            <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                                10,063 enrollments<br>
                                2,915 unique students<br>
                                15.6% fail rate
                            </div>
                        </div>
                    </div>
                    <div style="background: rgba(255, 152, 0, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff9800;">
                        <h4 style="color: #ff9800; margin-bottom: 10px;">Key Finding</h4>
                        <p>SoEN students perform <strong>14.5% better in engineering courses</strong> (82.6% vs 68.1% pass rate), indicating that the challenge lies primarily in non-engineering coursework, particularly in SoAS foundation subjects.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>Foundation Subject Challenges</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="text-align: center; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ff6b6b;">57.1%</div>
                            <div style="font-size: 0.9em; color: #b8b8d1;">MATH Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">3,528 enrollments</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255, 152, 0, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ff9800;">66.3%</div>
                            <div style="font-size: 0.9em; color: #b8b8d1;">CHEM Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">403 enrollments</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255, 193, 7, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ffc107;">61.0%</div>
                            <div style="font-size: 0.9em; color: #b8b8d1;">PHYS Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">944 enrollments</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(33, 150, 243, 0.1); border-radius: 10px;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #2196f3;">62.6%</div>
                            <div style="font-size: 0.9em; color: #b8b8d1;">CSCI Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">1,848 enrollments</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Critical Insights</h3>
                <div class="insight">
                    <h4>SoAS Course Performance Crisis</h4>
                    <p>• <strong>60.0% pass rate for SoEN in SoAS</strong> vs 82.5% for non-SoEN students</p>
                    <p>• <strong>31.9% probation rate (F+D)</strong> in SoAS courses indicates systemic challenges</p>
                    <p>• <strong>Mathematics foundation is critical:</strong> 35.0% probation rate across all math courses</p>
                </div>
                <div class="insight" style="background: rgba(255, 107, 107, 0.2); border-color: #ff6b6b;">
                    <h4 style="color: #ff6b6b;">Immediate Action Required</h4>
                    <p>• <strong>6,807 SoAS course enrollments by SoEN students</strong> show concerning patterns</p>
                    <p>• <strong>19.5% failure rate</strong> and <strong>20.5% withdrawal rate</strong> in SoAS courses</p>
                    <p>• Performance gap suggests need for enhanced academic support and curriculum alignment</p>
                </div>
            </div>
        </div>

        <!-- SoAS Comparison Tab -->
        <div id="soas-comparison" class="tab-content">
            <div class="card">
                <h3>🎯 SoEN vs Non-SoEN Performance in SoAS Courses - The Core Challenge</h3>
                <p style="font-size: 1.1em; color: #b8b8d1; margin-bottom: 30px;">
                    This analysis reveals why SoEN students struggle academically. In School of Arts & Sciences courses, SoEN students dramatically underperform 
                    compared to other students, indicating a critical need for targeted interventions in foundational subjects.
                </p>

                <div class="radar-container">
                    <div class="radar-chart">
                        <svg class="radar-svg" viewBox="0 0 400 400">
                            <!-- Grid circles -->
                            <circle cx="200" cy="200" r="40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                            <circle cx="200" cy="200" r="80" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                            <circle cx="200" cy="200" r="120" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                            <circle cx="200" cy="200" r="160" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                            
                            <!-- Axes -->
                            <line x1="200" y1="200" x2="200" y2="40" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                            <line x1="200" y1="200" x2="352" y2="105" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                            <line x1="200" y1="200" x2="295" y2="295" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                            <line x1="200" y1="200" x2="105" y2="295" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                            <line x1="200" y1="200" x2="48" y2="105" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                            
                            <!-- SoEN Performance (Red) -->
                            <polygon points="200,104 262,120 250,250 150,250 138,120" 
                                     fill="rgba(255,107,107,0.3)" 
                                     stroke="#ff6b6b" 
                                     stroke-width="2"/>
                            
                            <!-- Non-SoEN Performance (Green) -->
                            <polygon points="200,68 284,100 275,215 125,215 116,100" 
                                     fill="rgba(76,175,80,0.3)" 
                                     stroke="#4caf50" 
                                     stroke-width="2"/>
                            
                            <!-- Labels -->
                            <text x="200" y="30" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Pass Rate</text>
                            <text x="200" y="45" text-anchor="middle" fill="#b8b8d1" font-size="10">SoEN: 60.0% | Non: 82.5%</text>
                            
                            <text x="365" y="105" text-anchor="start" fill="#fff" font-size="12" font-weight="bold">Low Failure</text>
                            <text x="365" y="120" text-anchor="start" fill="#b8b8d1" font-size="10">SoEN: 80.5% | Non: 91.3%</text>
                            
                            <text x="305" y="315" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Low Withdrawal</text>
                            <text x="305" y="330" text-anchor="middle" fill="#b8b8d1" font-size="10">SoEN: 79.5% | Non: 91.4%</text>
                            
                            <text x="95" y="315" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Low Probation</text>
                            <text x="95" y="330" text-anchor="middle" fill="#b8b8d1" font-size="10">SoEN: 68.1% | Non: 75.9%</text>
                            
                            <text x="35" y="105" text-anchor="end" fill="#fff" font-size="12" font-weight="bold">High Grades</text>
                            <text x="35" y="120" text-anchor="end" fill="#b8b8d1" font-size="10">SoEN: 34.1% | Non: 44.7%</text>
                            
                            <!-- Scale labels -->
                            <text x="208" y="85" fill="rgba(255,255,255,0.5)" font-size="8">80%</text>
                            <text x="208" y="125" fill="rgba(255,255,255,0.5)" font-size="8">60%</text>
                            <text x="208" y="165" fill="rgba(255,255,255,0.5)" font-size="8">40%</text>
                        </svg>
                    </div>
                    
                    <div class="radar-legend">
                        <div class="legend-item">
                            <div class="legend-dot soen"></div>
                            <span><strong>SoEN Students in SoAS</strong> (6,807 enrollments)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot non-soen"></div>
                            <span><strong>Non-SoEN Students in SoAS</strong> (53,057 enrollments)</span>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 30px 0;">
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255, 107, 107, 0.3);">
                        <h4 style="color: #ff6b6b; text-align: center; margin-bottom: 20px;">🔴 SoEN Students in SoAS</h4>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="font-size: 3em; font-weight: bold; color: #ff6b6b;">60.0%</div>
                            <div style="color: #b8b8d1;">Pass Rate</div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #ff6b6b;">19.5%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Fail Rate</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #ff6b6b;">20.5%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Withdrawal</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #ff6b6b;">31.9%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Probation (F+D)</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #ff6b6b;">2.069</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Avg GPA</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(76, 175, 80, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <h4 style="color: #4caf50; text-align: center; margin-bottom: 20px;">🟢 Non-SoEN Students in SoAS</h4>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="font-size: 3em; font-weight: bold; color: #4caf50;">82.5%</div>
                            <div style="color: #b8b8d1;">Pass Rate</div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #4caf50;">8.7%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Fail Rate</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #4caf50;">8.6%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Withdrawal</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #4caf50;">24.1%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Probation (F+D)</div>
                            </div>
                            <div style="text-align: center; padding: 10px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                <div style="font-size: 1.3em; font-weight: bold; color: #4caf50;">2.502</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Avg GPA</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(255, 152, 0, 0.1); padding: 25px; border-radius: 15px; border-left: 4px solid #ff9800;">
                    <h4 style="color: #ff9800; margin-bottom: 15px;">📊 Performance Gap Analysis</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">-22.5%</div>
                            <div style="color: #b8b8d1;">Pass Rate Gap</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">+10.8%</div>
                            <div style="color: #b8b8d1;">Failure Rate Gap</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">+11.9%</div>
                            <div style="color: #b8b8d1;">Withdrawal Gap</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">+7.8%</div>
                            <div style="color: #b8b8d1;">Probation Gap</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>SoAS Subject Performance Breakdown</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ff6b6b;">57.1%</div>
                            <div style="color: #b8b8d1; margin: 5px 0;">MATH Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">35.0% Probation (F+D)</div>
                        </div>
                        <div style="padding: 15px; background: rgba(255, 152, 0, 0.1); border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ff9800;">62.6%</div>
                            <div style="color: #b8b8d1; margin: 5px 0;">CSCI Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">32.0% Probation (F+D)</div>
                        </div>
                        <div style="padding: 15px; background: rgba(255, 193, 7, 0.1); border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ffc107;">61.0%</div>
                            <div style="color: #b8b8d1; margin: 5px 0;">PHYS Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">23.9% Probation (F+D)</div>
                        </div>
                        <div style="padding: 15px; background: rgba(255, 152, 0, 0.1); border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #ff9800;">66.3%</div>
                            <div style="color: #b8b8d1; margin: 5px 0;">CHEM Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">27.0% Probation (F+D)</div>
                        </div>
                    </div>
                </div>
                
                <!-- SoAS Courses Taken by SoEN Students -->
                <div class="card" style="margin-top: 30px;">
                    <h3 style="color: #ff9800; margin-bottom: 20px;">📚 All SoAS Courses Taken by SoEN Students - Spring 2024-25</h3>
                    <p style="font-size: 0.9em; color: #b8b8d1; margin-bottom: 20px;">
                        Detailed performance metrics for each SoAS course taken by SoEN students. Courses are sorted by enrollment count.
                    </p>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: rgba(255, 152, 0, 0.1);">
                                    <th style="padding: 12px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Course</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Students</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Avg GPA</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass Rate</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Fail Rate</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">W%</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">AW%</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Probation%</th>
                                    <th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">A/B%</th>
                                </tr>
                            </thead>
                            <tbody id="soas-courses-tbody">
                                <tr>
                                    <td colspan="10" style="padding: 20px; text-align: center; color: #b8b8d1;">
                                        Loading course data...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 10px;">
                        <p style="font-size: 0.85em; color: #b8b8d1; margin: 0;">
                            <strong>Summary:</strong> 3,022 SoEN students took 6,807 SoAS course enrollments across 26 unique courses in Spring 2024-25.
                            <br><strong>Note:</strong> Courses showing 0.0 GPA are Pass/Fail courses (e.g., MATH160/161, PHYS160/161, CHEM160, BIOL160).
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Demographics & Admission Tab -->
        <div id="demographics" class="tab-content">
            <div class="card">
                <h3>📊 Demographics and Admission Basis Analysis</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Understanding how admission basis and demographics impact academic performance can help identify students at risk and develop targeted support strategies.
                </p>

                <div class="demo-grid">
                    <div class="demo-card">
                        <h4 style="color: #ffd93d; margin-bottom: 15px;">👥 Gender Performance</h4>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">Male Students (4,898)</span>
                                <span style="color: #2196f3; font-weight: bold;">75.2%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill male" style="width: 75.2%;">75.2% pass</div>
                            </div>
                            <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">SoAS: 55.9% pass • 5,586 enrollments</div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">Female Students (1,145)</span>
                                <span style="color: #e91e63; font-weight: bold;">87.8%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill female" style="width: 87.8%;">87.8% pass</div>
                            </div>
                            <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">SoAS: 78.8% pass • 1,221 enrollments</div>
                        </div>
                        <div style="background: rgba(233, 30, 99, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                            <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.9);">
                                <strong>Key Finding:</strong> Female SoEN students significantly outperform males (87.8% vs 75.2% overall), 
                                with particularly strong performance in SoAS courses (78.8% vs 55.9% pass rates).
                            </p>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h4 style="color: #ffd93d; margin-bottom: 15px;">🎓 Age Group Performance</h4>
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">18-20 years (2,387)</span>
                                <span style="color: #9c27b0; font-weight: bold;">78.0%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill age" style="width: 78.0%;">78.0%</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">21-23 years (2,310)</span>
                                <span style="color: #9c27b0; font-weight: bold;">78.1%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill age" style="width: 78.1%;">78.1%</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">24-26 years (1,024)</span>
                                <span style="color: #9c27b0; font-weight: bold;">77.5%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill age" style="width: 77.5%;">77.5%</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">27-30 years (260)</span>
                                <span style="color: #ff9800; font-weight: bold;">69.5%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill" style="width: 69.5%; background: linear-gradient(90deg, #ff9800, #ffb74d);">69.5%</div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">31+ years (44)</span>
                                <span style="color: #4caf50; font-weight: bold;">85.5%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill" style="width: 85.5%; background: linear-gradient(90deg, #4caf50, #66bb6a);">85.5%</div>
                            </div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h4 style="color: #ffd93d; margin-bottom: 15px;">📋 Admission Basis Impact</h4>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">BaccII (5,296 students)</span>
                                <span style="color: #4caf50; font-weight: bold;">79.3%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill" style="width: 79.3%; background: linear-gradient(90deg, #4caf50, #66bb6a);">79.3% pass</div>
                            </div>
                            <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">2.36 avg GPA • 26,477 enrollments</div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">HighSchool (162 students)</span>
                                <span style="color: #4caf50; font-weight: bold;">79.1%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill" style="width: 79.1%; background: linear-gradient(90deg, #4caf50, #66bb6a);">79.1% pass</div>
                            </div>
                            <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">2.43 avg GPA • 799 enrollments</div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="color: #b8b8d1;">BT (582 students)</span>
                                <span style="color: #ff6b6b; font-weight: bold;">61.3%</span>
                            </div>
                            <div class="demo-bar">
                                <div class="demo-fill" style="width: 61.3%; background: linear-gradient(90deg, #ff6b6b, #ff8a80);">61.3% pass</div>
                            </div>
                            <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">1.67 avg GPA • 2,580 enrollments</div>
                        </div>
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                            <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.9);">
                                <strong>Critical Finding:</strong> BT students show significantly lower performance (61.3% pass rate, 1.67 GPA) 
                                with 40.2% probation rate, indicating need for enhanced academic support from admission.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🏫 High School Performance Analysis (Top Performers & Struggling Schools)</h3>
                    <div class="school-grid">
                        <div class="school-card" style="border: 2px solid rgba(76, 175, 80, 0.4); background: rgba(76, 175, 80, 0.05);">
                            <div class="school-header">
                                <div class="school-name">Smart Technical</div>
                                <div class="school-count">35 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">100.0%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">3.729</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                        <div class="school-card" style="border: 2px solid rgba(76, 175, 80, 0.4); background: rgba(76, 175, 80, 0.05);">
                            <div class="school-header">
                                <div class="school-name">Mesrobian College</div>
                                <div class="school-count">13 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">100.0%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">3.662</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                        <div class="school-card" style="border: 2px solid rgba(76, 175, 80, 0.4); background: rgba(76, 175, 80, 0.05);">
                            <div class="school-header">
                                <div class="school-name">Al Mahdi High School</div>
                                <div class="school-count">837 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">81.4%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #4caf50;">2.511</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                        <div class="school-card" style="border: 2px solid rgba(255, 107, 107, 0.4); background: rgba(255, 107, 107, 0.05);">
                            <div class="school-header">
                                <div class="school-name">Abbas High School</div>
                                <div class="school-count">20 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #ff6b6b;">20.0%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #ff6b6b;">0.256</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                        <div class="school-card" style="border: 2px solid rgba(255, 107, 107, 0.4); background: rgba(255, 107, 107, 0.05);">
                            <div class="school-header">
                                <div class="school-name">CIS College</div>
                                <div class="school-count">166 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #ff6b6b;">57.2%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #ff6b6b;">1.25</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                        <div class="school-card" style="border: 2px solid rgba(255, 152, 0, 0.4); background: rgba(255, 152, 0, 0.05);">
                            <div class="school-header">
                                <div class="school-name">Outside School</div>
                                <div class="school-count">1,029 enrollments</div>
                            </div>
                            <div class="school-metrics">
                                <div class="metric">
                                    <div class="metric-value" style="color: #ff9800;">77.0%</div>
                                    <div class="metric-label">Pass Rate</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" style="color: #ffd93d;">2.233</div>
                                    <div class="metric-label">Avg GPA</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Expanded High School Analysis -->
                <div class="card" style="margin-top: 30px;">
                    <h3>🏆 Top 5 Best Performing High Schools - Detailed Analysis</h3>
                    <div style="display: grid; gap: 20px; margin-top: 20px;">
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                            <h4 style="color: #4caf50; margin-bottom: 10px;">1. Rahman Youness High School</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 11 students (BaccII), 66 enrollments<br>
                                    • <span style="color: #4caf50;">3.09 GPA</span>, <span style="color: #4caf50;">89.4% pass rate</span><br>
                                    • 12.1% probation rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • TENG: 5 students (3.80 GPA, 100.0% pass)<br>
                                    • MENG: 3 students (2.63 GPA, 84.2% pass)<br>
                                    • MMENG: 1 student (3.05 GPA, 100.0% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                            <h4 style="color: #4caf50; margin-bottom: 10px;">2. Sohmor High School</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 13 students (BaccII), 68 enrollments<br>
                                    • <span style="color: #4caf50;">3.02 GPA</span>, <span style="color: #4caf50;">92.6% pass rate</span><br>
                                    • 14.7% probation rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • MENG: 4 students (2.95 GPA, 100.0% pass)<br>
                                    • CENG: 3 students (3.10 GPA, 100.0% pass)<br>
                                    • TENG: 2 students (2.96 GPA, 100.0% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                            <h4 style="color: #4caf50; margin-bottom: 10px;">3. Omar Faroukh Official School</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 10 students (BaccII), 57 enrollments<br>
                                    • <span style="color: #4caf50;">3.01 GPA</span>, <span style="color: #4caf50;">93.0% pass rate</span><br>
                                    • 10.5% probation rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • BENG: 4 students (3.54 GPA, 100.0% pass)<br>
                                    • TENG: 2 students (2.25 GPA, 75.0% pass)<br>
                                    • CENG: 2 students (2.65 GPA, 92.3% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(76, 175, 80, 0.05); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                            <h4 style="color: #4caf50; margin-bottom: 10px;">4. Irfan High School</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 22 students (BaccII), 115 enrollments<br>
                                    • <span style="color: #4caf50;">2.99 GPA</span>, <span style="color: #4caf50;">92.2% pass rate</span><br>
                                    • 14.8% probation rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • CENG: 10 students (3.45 GPA, 95.0% pass)<br>
                                    • SURV: 2 students (2.41 GPA, 100.0% pass)<br>
                                    • EENG: 2 students (2.48 GPA, 72.7% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(76, 175, 80, 0.05); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                            <h4 style="color: #4caf50; margin-bottom: 10px;">5. Azhar Al Bekaa</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 30 students (BaccII), 173 enrollments<br>
                                    • <span style="color: #4caf50;">2.95 GPA</span>, <span style="color: #4caf50;">86.1% pass rate</span><br>
                                    • 19.7% probation rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • CENG: 13 students (3.14 GPA, 85.5% pass)<br>
                                    • BENG: 4 students (3.01 GPA, 95.8% pass)<br>
                                    • EENG: 4 students (3.34 GPA, 100.0% pass)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 12px; margin-top: 20px;">
                        <strong>Top Schools Key Pattern:</strong> Average 3.01 GPA, 90.7% pass rate. Predominantly General Science and Life Science backgrounds, 
                        indicating strong STEM preparation leads to engineering success.
                    </div>
                </div>

                <div class="card" style="margin-top: 30px;">
                    <h3>⚠️ Top 5 Worst Performing High Schools - Detailed Analysis</h3>
                    <div style="display: grid; gap: 20px; margin-top: 20px;">
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; margin-bottom: 10px;">1. Abdul Hadi Al Debes Institute</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 27 students (BT), 96 enrollments<br>
                                    • <span style="color: #ff6b6b;">1.44 GPA</span>, <span style="color: #ff6b6b;">56.2% pass rate</span><br>
                                    • 33.3% probation rate, 17.7% fail rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • EENG: 5 students (1.09 GPA, 52.9% pass)<br>
                                    • CENG: 5 students (0.71 GPA, 40.0% pass)<br>
                                    • LENG: 4 students (1.78 GPA, 70.6% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; margin-bottom: 10px;">2. Amlieh Technical Institute</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 10 students (BT), 38 enrollments<br>
                                    • <span style="color: #ff6b6b;">1.40 GPA</span>, <span style="color: #ff6b6b;">52.6% pass rate</span><br>
                                    • 50.0% probation rate, 31.6% fail rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • MENG: 4 students (1.75 GPA, 62.5% pass)<br>
                                    • EENG: 2 students (0.89 GPA, 44.4% pass)<br>
                                    • BENG: 1 student (0.75 GPA, 50.0% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; margin-bottom: 10px;">3. Ali Al Akbar Institute</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 16 students (BT), 66 enrollments<br>
                                    • <span style="color: #ff6b6b;">1.33 GPA</span>, <span style="color: #ff6b6b;">54.5% pass rate</span><br>
                                    • 54.5% probation rate, 30.3% fail rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • MENG: 7 students (0.96 GPA, 39.3% pass)<br>
                                    • EENG: 3 students (2.34 GPA, 94.1% pass)<br>
                                    • BEMENG: 2 students (0.33 GPA, 20.0% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 107, 107, 0.05); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; margin-bottom: 10px;">4. CIS College</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 37 students (BT), 166 enrollments<br>
                                    • <span style="color: #ff6b6b;">1.25 GPA</span>, <span style="color: #ff6b6b;">57.2% pass rate</span><br>
                                    • 50.6% probation rate, 27.1% fail rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • CENG: 14 students (1.51 GPA, 61.1% pass)<br>
                                    • MENG: 11 students (1.20 GPA, 66.7% pass)<br>
                                    • TENG: 7 students (0.70 GPA, 27.6% pass)
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255, 107, 107, 0.05); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; margin-bottom: 10px;">5. Bir Hassan Technical School</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <strong>Overall Performance:</strong><br>
                                    • 17 students (BT), 69 enrollments<br>
                                    • <span style="color: #ff6b6b;">0.93 GPA</span>, <span style="color: #ff6b6b;">52.2% pass rate</span><br>
                                    • 52.2% probation rate, 39.1% fail rate
                                </div>
                                <div>
                                    <strong>Top 3 SoEN Majors:</strong><br>
                                    • MENG: 9 students (0.57 GPA, 42.5% pass)<br>
                                    • EENG: 3 students (1.23 GPA, 70.0% pass)<br>
                                    • TENG: 2 students (1.90 GPA, 20.0% pass)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; margin-top: 20px;">
                        <strong>Bottom Schools Critical Pattern:</strong> Average 1.27 GPA, 54.5% pass rate. Predominantly technical/vocational backgrounds 
                        (IT, Electronics, Car Mechanics), indicating significant academic preparation gaps for engineering programs. 
                        <span style="color: #ff6b6b;">36.1% performance gap</span> compared to top schools.
                    </div>
                </div>

                <!-- Summary Analysis -->
                <div class="card" style="margin-top: 30px; background: rgba(102, 126, 234, 0.05);">
                    <h3 style="color: #667eea;">📊 High School Performance Summary & Recommendations</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="text-align: center; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                            <div style="font-size: 2em; font-weight: bold; color: #4caf50;">1.74</div>
                            <div style="color: #b8b8d1;">GPA Difference</div>
                            <div style="font-size: 0.9em; margin-top: 10px;">Top 5 vs Bottom 5 schools</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">36.1%</div>
                            <div style="color: #b8b8d1;">Pass Rate Gap</div>
                            <div style="font-size: 0.9em; margin-top: 10px;">90.7% vs 54.5%</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                            <div style="font-size: 2em; font-weight: bold; color: #ff9800;">47.8%</div>
                            <div style="color: #b8b8d1;">Average Probation</div>
                            <div style="font-size: 0.9em; margin-top: 10px;">Bottom 5 schools</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                        <h4 style="color: #ffd93d; margin-bottom: 15px;">🎯 Strategic Recommendations</h4>
                        <ol style="line-height: 1.8;">
                            <li><strong>Targeted Bridge Programs:</strong> Develop intensive preparation programs for students from technical/vocational backgrounds, 
                            focusing on mathematics and science fundamentals.</li>
                            <li><strong>Partnership Development:</strong> Establish partnerships with struggling high schools to improve STEM preparation 
                            and align curricula with university requirements.</li>
                            <li><strong>Admission Criteria Review:</strong> Consider differentiated admission pathways with mandatory foundation courses 
                            for students from non-science backgrounds.</li>
                            <li><strong>Early Intervention:</strong> Implement diagnostic assessments at admission to identify at-risk students 
                            based on high school background and provide immediate support.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- Repeat Analysis Tab -->
        <div id="repeat-analysis" class="tab-content">
            <div class="card">
                <h3>🔁 Comprehensive Repeat Analysis - Spring 2024-2025</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Detailed analysis of course repeat patterns for SoEN students in Spring 2024-2025 semester, examining performance by attempt number, subjects, and student patterns.
                </p>

                <!-- Overview Metrics -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
                    <div style="text-align: center; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">4,852</div>
                        <div style="color: #b8b8d1;">Total Repeat Enrollments</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Students taking courses 2+ times</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(255, 152, 0, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #ff9800;">16.2%</div>
                        <div style="color: #b8b8d1;">Overall Repeat Rate</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Of all SoEN enrollments</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #4caf50;">2,465</div>
                        <div style="color: #b8b8d1;">Students with Repeats</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Unique students repeating</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(255, 107, 107, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b;">11</div>
                        <div style="color: #b8b8d1;">Max Attempts</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Highest repeat count</div>
                    </div>
                </div>

                <!-- Performance by Attempt Number -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h4 style="color: #667eea; margin-bottom: 20px;">📊 Performance by Attempt Number</h4>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
                                <th style="padding: 15px; text-align: left;">Attempt</th>
                                <th style="padding: 15px; text-align: center;">Enrollments</th>
                                <th style="padding: 15px; text-align: center;">Avg GPA</th>
                                <th style="padding: 15px; text-align: center;">Pass Rate</th>
                                <th style="padding: 15px; text-align: center;">Fail Rate</th>
                                <th style="padding: 15px; text-align: center;">Withdrawal Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">1st Attempt</td>
                                <td style="padding: 15px; text-align: center;">25,019</td>
                                <td style="padding: 15px; text-align: center;">2.484</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">84.9%</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">8.3%</td>
                                <td style="padding: 15px; text-align: center;">6.6%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">2nd Attempt</td>
                                <td style="padding: 15px; text-align: center;">3,368</td>
                                <td style="padding: 15px; text-align: center;">1.222</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">44.0%</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">32.1%</td>
                                <td style="padding: 15px; text-align: center;">23.9%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">3rd Attempt</td>
                                <td style="padding: 15px; text-align: center;">800</td>
                                <td style="padding: 15px; text-align: center;">0.976</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">36.1%</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">34.6%</td>
                                <td style="padding: 15px; text-align: center;">29.2%</td>
                            </tr>
                            <tr>
                                <td style="padding: 15px;">4th Attempt</td>
                                <td style="padding: 15px; text-align: center;">379</td>
                                <td style="padding: 15px; text-align: center;">0.927</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">32.7%</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">31.7%</td>
                                <td style="padding: 15px; text-align: center;">35.6%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Subject Area Repeat Analysis -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h4 style="color: #667eea; margin-bottom: 20px;">📚 Subject Area Repeat Analysis</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 10px;">
                            <h5 style="color: #ff6b6b; margin-bottom: 15px;">MATH - Mathematics</h5>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Repeat Rate:</span>
                                <span style="color: #ff6b6b; font-weight: bold;">23.6%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>1st Attempt Pass:</span>
                                <span>68.3%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>2nd Attempt Pass:</span>
                                <span style="color: #ff6b6b;">23.4% (-45.0%)</span>
                            </div>
                        </div>
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 20px; border-radius: 10px;">
                            <h5 style="color: #ff9800; margin-bottom: 15px;">PHYS - Physics</h5>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Repeat Rate:</span>
                                <span style="color: #ff9800; font-weight: bold;">19.6%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>1st Attempt Pass:</span>
                                <span>67.7%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>2nd Attempt Pass:</span>
                                <span style="color: #ff6b6b;">35.8% (-31.9%)</span>
                            </div>
                        </div>
                        <div style="background: rgba(255, 193, 7, 0.1); padding: 20px; border-radius: 10px;">
                            <h5 style="color: #ffc107; margin-bottom: 15px;">CHEM - Chemistry</h5>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Repeat Rate:</span>
                                <span style="color: #ffc107; font-weight: bold;">17.9%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>1st Attempt Pass:</span>
                                <span>71.6%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>2nd Attempt Pass:</span>
                                <span style="color: #ff6b6b;">46.0% (-25.6%)</span>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 10px;">
                            <h5 style="color: #667eea; margin-bottom: 15px;">EENG - Electrical Eng</h5>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Repeat Rate:</span>
                                <span style="color: #667eea; font-weight: bold;">17.2%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>1st Attempt Pass:</span>
                                <span>88.3%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>2nd Attempt Pass:</span>
                                <span style="color: #ff6b6b;">42.8% (-45.5%)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Most Repeated Courses -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 15px;">
                    <h4 style="color: #667eea; margin-bottom: 20px;">🔝 Most Repeated Courses</h4>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
                                <th style="padding: 15px; text-align: left;">Course</th>
                                <th style="padding: 15px; text-align: center;">Total Repeats</th>
                                <th style="padding: 15px; text-align: center;">Avg Attempts</th>
                                <th style="padding: 15px; text-align: center;">Max Attempts</th>
                                <th style="padding: 15px; text-align: center;">Pass Rate on Repeat</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">EENG250</td>
                                <td style="padding: 15px; text-align: center;">269</td>
                                <td style="padding: 15px; text-align: center;">2.7</td>
                                <td style="padding: 15px; text-align: center;">8</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">24.9%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">CSCI250</td>
                                <td style="padding: 15px; text-align: center;">211</td>
                                <td style="padding: 15px; text-align: center;">2.6</td>
                                <td style="padding: 15px; text-align: center;">7</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">31.8%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">EENG300</td>
                                <td style="padding: 15px; text-align: center;">190</td>
                                <td style="padding: 15px; text-align: center;">3.2</td>
                                <td style="padding: 15px; text-align: center;">9</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">20.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px;">MATH210</td>
                                <td style="padding: 15px; text-align: center;">177</td>
                                <td style="padding: 15px; text-align: center;">2.7</td>
                                <td style="padding: 15px; text-align: center;">10</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">21.5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 15px;">CSCI250L</td>
                                <td style="padding: 15px; text-align: center;">162</td>
                                <td style="padding: 15px; text-align: center;">2.5</td>
                                <td style="padding: 15px; text-align: center;">9</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">36.4%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Key Insights -->
                <div style="background: rgba(255, 193, 7, 0.1); padding: 30px; border-radius: 15px; margin-top: 30px;">
                    <h4 style="color: #ffc107; margin-bottom: 20px;">💡 Key Insights</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #ffc107; margin-right: 10px;">⚠️</span>
                            <span>Performance significantly drops with each repeat attempt - from 84.9% pass rate on first attempt to 36.1% on third attempt</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #ff6b6b; margin-right: 10px;">📉</span>
                            <span>Mathematics courses have the highest repeat rate at 23.6%, with CSCI close behind at 23.4%, indicating fundamental challenges</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #4caf50; margin-right: 10px;">✅</span>
                            <span>All subjects show significant performance drops on second attempts, with EENG showing the worst decline (-45.5%)</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #ff9800; margin-right: 10px;">🎯</span>
                            <span>2,465 unique students have repeated courses, representing over 40% of SoEN students requiring additional support</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Campus Analysis Tab -->
        <div id="campus-analysis" class="tab-content">
            <div class="card">
                <h3>🏛️ Comprehensive Campus Analysis - Spring 2024-2025</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Detailed analysis of SoEN student performance, demographics, and admission patterns across all campuses for Spring 2024-2025.
                </p>

                <!-- Campus Overview Metrics -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
                    <div style="text-align: center; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">9</div>
                        <div style="color: #b8b8d1;">Total Campuses</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Serving SoEN students</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(33, 150, 243, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #2196f3;">6,043</div>
                        <div style="color: #b8b8d1;">Total Students</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Across all campuses</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #4caf50;">77.8%</div>
                        <div style="color: #b8b8d1;">Overall Pass Rate</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">All campuses combined</div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: rgba(255, 152, 0, 0.1); border-radius: 15px;">
                        <div style="font-size: 2.5em; font-weight: bold; color: #ff9800;">2.31</div>
                        <div style="color: #b8b8d1;">Average GPA</div>
                        <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.7);">Across all campuses</div>
                    </div>
                </div>

                <!-- Campus Performance Comparison -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                    <h4 style="color: #667eea; margin-bottom: 20px;">📊 Campus Performance Comparison</h4>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="border-bottom: 2px solid rgba(255, 255, 255, 0.2);">
                                <th style="padding: 15px; text-align: left;">Campus</th>
                                <th style="padding: 15px; text-align: center;">Students</th>
                                <th style="padding: 15px; text-align: center;">Enrollments</th>
                                <th style="padding: 15px; text-align: center;">Pass Rate</th>
                                <th style="padding: 15px; text-align: center;">Avg GPA</th>
                                <th style="padding: 15px; text-align: center;">Probation (F+D)</th>
                                <th style="padding: 15px; text-align: center;">Withdrawal Rate</th>
                                <th style="padding: 15px; text-align: center;">Repeat Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Beirut</td>
                                <td style="padding: 15px; text-align: center;">1,710</td>
                                <td style="padding: 15px; text-align: center;">8,452</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">75.8%</td>
                                <td style="padding: 15px; text-align: center;">2.29</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">30.2%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">11.4%</td>
                                <td style="padding: 15px; text-align: center;">16.8%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Tripoli</td>
                                <td style="padding: 15px; text-align: center;">854</td>
                                <td style="padding: 15px; text-align: center;">4,234</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">78.7%</td>
                                <td style="padding: 15px; text-align: center;">2.29</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">29.8%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">9.8%</td>
                                <td style="padding: 15px; text-align: center;">15.2%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Bekaa</td>
                                <td style="padding: 15px; text-align: center;">712</td>
                                <td style="padding: 15px; text-align: center;">3,487</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">80.4%</td>
                                <td style="padding: 15px; text-align: center;">2.43</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">29.1%</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">8.2%</td>
                                <td style="padding: 15px; text-align: center;">14.1%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Rayak</td>
                                <td style="padding: 15px; text-align: center;">632</td>
                                <td style="padding: 15px; text-align: center;">3,156</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">80.3%</td>
                                <td style="padding: 15px; text-align: center;">2.32</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">29.3%</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">8.7%</td>
                                <td style="padding: 15px; text-align: center;">13.8%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Saida</td>
                                <td style="padding: 15px; text-align: center;">572</td>
                                <td style="padding: 15px; text-align: center;">2,798</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">75.5%</td>
                                <td style="padding: 15px; text-align: center;">2.24</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">33.0%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">10.2%</td>
                                <td style="padding: 15px; text-align: center;">17.2%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Nabatieh</td>
                                <td style="padding: 15px; text-align: center;">524</td>
                                <td style="padding: 15px; text-align: center;">2,587</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">77.6%</td>
                                <td style="padding: 15px; text-align: center;">2.26</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">32.7%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">9.3%</td>
                                <td style="padding: 15px; text-align: center;">15.8%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Tyre</td>
                                <td style="padding: 15px; text-align: center;">493</td>
                                <td style="padding: 15px; text-align: center;">2,398</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">76.7%</td>
                                <td style="padding: 15px; text-align: center;">2.41</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">28.0%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">10.1%</td>
                                <td style="padding: 15px; text-align: center;">14.9%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 15px; font-weight: bold;">Akkar</td>
                                <td style="padding: 15px; text-align: center;">348</td>
                                <td style="padding: 15px; text-align: center;">1,687</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">77.5%</td>
                                <td style="padding: 15px; text-align: center;">2.13</td>
                                <td style="padding: 15px; text-align: center; color: #ff6b6b;">36.7%</td>
                                <td style="padding: 15px; text-align: center; color: #ffc107;">9.7%</td>
                                <td style="padding: 15px; text-align: center;">16.3%</td>
                            </tr>
                            <tr>
                                <td style="padding: 15px; font-weight: bold;">Mount Lebanon</td>
                                <td style="padding: 15px; text-align: center;">198</td>
                                <td style="padding: 15px; text-align: center;">967</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">80.2%</td>
                                <td style="padding: 15px; text-align: center;">2.42</td>
                                <td style="padding: 15px; text-align: center; color: #ff9800;">28.2%</td>
                                <td style="padding: 15px; text-align: center; color: #4caf50;">8.9%</td>
                                <td style="padding: 15px; text-align: center;">12.6%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Campus Detailed Analysis Grid -->
                <div class="campus-grid">
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Beirut Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">1,710</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">75.8%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">1483 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">77.4%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">172 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">60.1%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">53 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">75.7%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 82.4% | Female 17.6%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Tripoli Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">854</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">78.7%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">703 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">80.9%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">128 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">63.5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">23 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">87.3%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 84.2% | Female 15.8%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Bekaa Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">712</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #4caf50;">80.4%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">655 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">81.0%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">29 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">64.4%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">28 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">80.1%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 82.7% | Female 17.3%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Rayak Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">632</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #4caf50;">80.3%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">601 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">80.8%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">25 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">68.9%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">6 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">75.9%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 84.0% | Female 16.0%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Saida Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">572</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">75.5%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">450 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">78.5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">106 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">62.0%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">15 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">76.7%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 81.8% | Female 18.2%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Nabatieh Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">524</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">77.6%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">457 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">80.1%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">46 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">49.5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">21 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">78.3%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 84.2% | Female 15.8%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Tyre Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">493</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">76.7%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">462 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">77.5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">19 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">50.0%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">12 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">81.2%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 83.2% | Female 16.8%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Akkar Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">348</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #ff9800;">77.5%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">319 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">78.1%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">27 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff9800;">71.1%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">2 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">66.7%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 85.6% | Female 14.4%
                        </div>
                    </div>
                    <div class="campus-card">
                        <h4 style="color: #667eea; margin-bottom: 20px;">🏛️ Mount Lebanon Campus</h4>
                        <div class="campus-metrics">
                            <div class="metric-group">
                                <div class="metric-label">Students</div>
                                <div class="metric-value">198</div>
                            </div>
                            <div class="metric-group">
                                <div class="metric-label">Pass Rate</div>
                                <div class="metric-value" style="color: #4caf50;">80.2%</div>
                            </div>
                        </div>
                        <h5 style="color: #ffc107; margin-bottom: 10px;">Admission Levels:</h5>
                        <table style="width: 100%; font-size: 0.85em;">
                            <tr>
                                <td style="padding: 5px;">BaccII</td>
                                <td style="padding: 5px; text-align: right;">166 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">83.1%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">BT</td>
                                <td style="padding: 5px; text-align: right;">30 students</td>
                                <td style="padding: 5px; text-align: right; color: #ff6b6b;">61.8%</td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">HighSchool</td>
                                <td style="padding: 5px; text-align: right;">2 students</td>
                                <td style="padding: 5px; text-align: right; color: #4caf50;">90.9%</td>
                            </tr>
                        </table>
                        <div style="margin-top: 15px; font-size: 0.85em;">
                            <span style="color: #b8b8d1;">Gender:</span> Male 84.3% | Female 15.7%
                        </div>
                    </div>
                </div>

                <!-- Key Campus Insights -->
                <div style="background: rgba(255, 193, 7, 0.1); padding: 30px; border-radius: 15px;">
                    <h4 style="color: #ffc107; margin-bottom: 20px;">💡 Key Campus Insights</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #4caf50; margin-right: 10px;">✅</span>
                            <span>Bekaa and Rayak campuses show the highest performance (80.4% and 80.3% pass rates) despite being mid-sized</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #ff9800; margin-right: 10px;">📊</span>
                            <span>Beirut campus, despite being the largest (1,710 students), has below-average performance at 75.8% pass rate</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #2196f3; margin-right: 10px;">🎓</span>
                            <span>Life Science admission basis consistently performs best across all campuses (80%+ pass rates)</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #ff6b6b; margin-right: 10px;">⚠️</span>
                            <span>Sociology/Economics students struggle across all campuses, particularly in Beirut (68.2% pass rate)</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #667eea; margin-right: 10px;">🔄</span>
                            <span>Repeat rates are highest in Saida (17.2%) and Beirut (16.8%), indicating need for enhanced support</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="color: #e91e63; margin-right: 10px;">👥</span>
                            <span>Gender distribution remains consistent across campuses (80-82% male, 18-20% female)</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Campus Course School Performance Summary -->
            <div class="card" style="margin-top: 40px;">
                <h3 style="color: #667eea; margin-bottom: 30px;">🎓 Campus Performance by Course School - Comprehensive Analysis</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Pass rates and probation rates for SoEN students across different course schools at each campus. This reveals campus-specific academic challenges.
                </p>

                <!-- Summary Table -->
<div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse; font-size: 0.85em;">
        <thead>
            <tr style="background: rgba(102, 126, 234, 0.1);">
                <th rowspan="2" style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Campus</th>
                <th colspan="3" style="padding: 15px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); border-right: 2px solid rgba(255, 255, 255, 0.1);">SoEN Courses</th>
                <th colspan="3" style="padding: 15px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); border-right: 2px solid rgba(255, 255, 255, 0.1);">SoAS Courses</th>
                <th colspan="3" style="padding: 15px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); border-right: 2px solid rgba(255, 255, 255, 0.1);">SoED Courses</th>
                <th colspan="3" style="padding: 15px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">SoBU Courses</th>
            </tr>
            <tr style="background: rgba(102, 126, 234, 0.05);">
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2); border-right: 2px solid rgba(255, 255, 255, 0.1);">Prob %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2); border-right: 2px solid rgba(255, 255, 255, 0.1);">Prob %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2); border-right: 2px solid rgba(255, 255, 255, 0.1);">Prob %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass %</th>
                <th style="padding: 10px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Prob %</th>
            </tr>
        </thead>
        <tbody>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Beirut</td>
                <td style="padding: 12px; text-align: center; color: #888;">5,366</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">80.5%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.0%</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,774</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">57.6%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">30.7%</td>
                <td style="padding: 12px; text-align: center; color: #888;">854</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">84.1%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">24.1%</td>
                <td style="padding: 12px; text-align: center; color: #888;">11</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">81.8%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">9.1%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Tripoli</td>
                <td style="padding: 12px; text-align: center; color: #888;">2,685</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">83.1%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.9%</td>
                <td style="padding: 12px; text-align: center; color: #888;">960</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">62.3%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">30.9%</td>
                <td style="padding: 12px; text-align: center; color: #888;">496</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">86.5%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; border-right: 2px solid rgba(255, 255, 255, 0.1);">16.5%</td>
                <td style="padding: 12px; text-align: center; color: #888;">7</td>
                <td style="padding: 12px; text-align: center; color: #ff9800;">71.4%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">14.3%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Bekaa</td>
                <td style="padding: 12px; text-align: center; color: #888;">2,608</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">85.9%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">28.3%</td>
                <td style="padding: 12px; text-align: center; color: #888;">810</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">60.7%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">32.1%</td>
                <td style="padding: 12px; text-align: center; color: #888;">345</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">84.3%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">29.0%</td>
                <td style="padding: 12px; text-align: center; color: #888;">9</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">100.0%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">0.0%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Rayak</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,907</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">86.8%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">30.8%</td>
                <td style="padding: 12px; text-align: center; color: #888;">782</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">63.4%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">29.2%</td>
                <td style="padding: 12px; text-align: center; color: #888;">430</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">82.3%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">22.6%</td>
                <td style="padding: 12px; text-align: center; color: #888;">18</td>
                <td style="padding: 12px; text-align: center; color: #ff9800;">72.2%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; ">27.8%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Saida</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,925</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">80.1%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">34.9%</td>
                <td style="padding: 12px; text-align: center; color: #888;">623</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">56.5%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.9%</td>
                <td style="padding: 12px; text-align: center; color: #888;">264</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">86.4%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">22.0%</td>
                <td style="padding: 12px; text-align: center; color: #888;">6</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">100.0%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">16.7%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Nabatieh</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,956</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">81.6%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">33.1%</td>
                <td style="padding: 12px; text-align: center; color: #888;">549</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">58.5%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">34.8%</td>
                <td style="padding: 12px; text-align: center; color: #888;">211</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">90.0%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">23.2%</td>
                <td style="padding: 12px; text-align: center; color: #888;">8</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">87.5%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; ">25.0%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Tyre</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,631</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">80.5%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">29.9%</td>
                <td style="padding: 12px; text-align: center; color: #888;">707</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">63.4%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">28.7%</td>
                <td style="padding: 12px; text-align: center; color: #888;">303</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">87.5%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; border-right: 2px solid rgba(255, 255, 255, 0.1);">16.2%</td>
                <td style="padding: 12px; text-align: center; color: #888;">3</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">100.0%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">0.0%</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Akkar</td>
                <td style="padding: 12px; text-align: center; color: #888;">1,123</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">84.6%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">36.8%</td>
                <td style="padding: 12px; text-align: center; color: #888;">388</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">54.9%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">46.4%</td>
                <td style="padding: 12px; text-align: center; color: #888;">184</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">82.1%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; border-right: 2px solid rgba(255, 255, 255, 0.1);">15.8%</td>
                <td style="padding: 12px; text-align: center; color: #888;">0</td>
                <td style="padding: 12px; text-align: center; color: #888;">N/A</td>
                <td style="padding: 12px; text-align: center; color: #888; ">N/A</td>
            </tr>
            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                <td style="padding: 12px; font-weight: bold;">Mount Lebanon</td>
                <td style="padding: 12px; text-align: center; color: #888;">607</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">84.0%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">28.5%</td>
                <td style="padding: 12px; text-align: center; color: #888;">214</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">66.8%</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.3%</td>
                <td style="padding: 12px; text-align: center; color: #888;">104</td>
                <td style="padding: 12px; text-align: center; color: #4caf50;">85.6%</td>
                <td style="padding: 12px; text-align: center; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">21.2%</td>
                <td style="padding: 12px; text-align: center; color: #888;">3</td>
                <td style="padding: 12px; text-align: center; color: #ff6b6b;">66.7%</td>
                <td style="padding: 12px; text-align: center; color: #4caf50; ">0.0%</td>
            </tr>
            <tr style="border-top: 2px solid rgba(255, 255, 255, 0.3); background: rgba(102, 126, 234, 0.05);">
                <td style="padding: 12px; font-weight: bold;">TOTAL</td>
                <td style="padding: 12px; text-align: center; font-weight: bold;">19,808</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #4caf50;">82.6%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.5%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold;">6,807</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff6b6b;">60.0%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff6b6b; border-right: 2px solid rgba(255, 255, 255, 0.1);">31.9%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold;">3,191</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #4caf50;">85.1%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ffc107; border-right: 2px solid rgba(255, 255, 255, 0.1);">21.7%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold;">65</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #4caf50;">83.1%</td>
                <td style="padding: 12px; text-align: center; font-weight: bold; color: #4caf50; ">15.4%</td>
            </tr>
        </tbody>
    </table>
</div>

                <!-- Key Insights -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 10px;">🚨 SoAS Courses - Critical Challenge</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• Akkar: 54.9% pass rate, 46.4% probation</li>
                            <li style="margin-bottom: 8px;">• Saida: 56.5% pass rate, 31.9% probation</li>
                            <li style="margin-bottom: 8px;">• Best performer: Mount Lebanon (66.8%)</li>
                            <li>• Average: ~60% pass rate across all campuses</li>
                        </ul>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">✅ SoED Courses - Strong Performance</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• Nabatieh: 90.0% pass rate (best)</li>
                            <li style="margin-bottom: 8px;">• All campuses above 82% pass rate</li>
                            <li style="margin-bottom: 8px;">• Low probation rates (15-29%)</li>
                            <li>• Education courses align well with SoEN</li>
                        </ul>
                    </div>
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 10px;">📊 SoBU Courses - Limited Data</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• Only 65 total enrollments</li>
                            <li style="margin-bottom: 8px;">• Mostly BECO210 & BECO260</li>
                            <li style="margin-bottom: 8px;">• Generally good performance (>70%)</li>
                            <li>• No SoBU courses at Akkar campus</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Math Progression Tab -->
        <div id="math-progression" class="tab-content">
            <div class="card">
                <h3>📐 Mathematics Progression and MATH225 Pre-requisite Analysis</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Understanding how students progress through mathematics courses and the critical relationship between remedial math (MATH160) and linear algebra (MATH225).
                </p>

                <div class="math-flow">
                    <h4 style="text-align: center; color: #ffd93d; margin-bottom: 30px;">Mathematics Course Progression Path</h4>
                    <div class="flow-diagram">
                        <div class="math-level remedial">
                            <h5 style="color: #ff9800; margin-bottom: 10px;">Remedial Level</h5>
                            <div style="font-size: 1.5em; font-weight: bold; color: #ff9800;">58.2%</div>
                            <div style="color: #b8b8d1; margin-bottom: 10px;">Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">MATH160, MATH161</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">244 enrollments</div>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="math-level intermediate">
                            <h5 style="color: #ffc107; margin-bottom: 10px;">Intermediate Level</h5>
                            <div style="font-size: 1.5em; font-weight: bold; color: #ffc107;">53.7%</div>
                            <div style="color: #b8b8d1; margin-bottom: 10px;">Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">MATH210, MATH220, MATH225</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">1,465 enrollments</div>
                        </div>
                        <div class="flow-arrow">→</div>
                        <div class="math-level advanced">
                            <h5 style="color: #4caf50; margin-bottom: 10px;">Advanced Level</h5>
                            <div style="font-size: 1.5em; font-weight: bold; color: #4caf50;">59.8%</div>
                            <div style="color: #b8b8d1; margin-bottom: 10px;">Pass Rate</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">MATH270, MATH310, MATH375</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.7);">1,818 enrollments</div>
                        </div>
                    </div>

                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 15px; margin-top: 30px;">
                        <h4 style="color: #ff6b6b; margin-bottom: 15px;">📉 Critical Math Performance Crisis</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div style="text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">MATH161</div>
                                <div style="color: #b8b8d1;">51.2% pass rate</div>
                                <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">Worst performing</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #ff6b6b;">MATH220</div>
                                <div style="color: #b8b8d1;">52.3% pass rate</div>
                                <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">Calculus struggles</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #ff9800;">MATH225</div>
                                <div style="color: #b8b8d1;">58.5% pass rate</div>
                                <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">Linear algebra</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>🔗 MATH160 → MATH225 Pre-requisite Relationship</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 20px 0;">
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255, 152, 0, 0.3);">
                            <h4 style="color: #ff9800; text-align: center; margin-bottom: 20px;">📚 MATH160 (Remedial)</h4>
                            <div style="text-align: center; margin-bottom: 20px;">
                                <div style="font-size: 2.5em; font-weight: bold; color: #ff9800;">65.0%</div>
                                <div style="color: #b8b8d1;">Pass Rate</div>
                            </div>
                            <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                                • 123 enrollments<br>
                                • Pre-requisite for MATH225<br>
                                • Basic algebra and trigonometry<br>
                                • Critical foundation course
                            </div>
                        </div>
                        <div style="background: rgba(255, 193, 7, 0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255, 193, 7, 0.3);">
                            <h4 style="color: #ffc107; text-align: center; margin-bottom: 20px;">📈 MATH225 (Linear Algebra)</h4>
                            <div style="text-align: center; margin-bottom: 20px;">
                                <div style="font-size: 2.5em; font-weight: bold; color: #ffc107;">58.5%</div>
                                <div style="color: #b8b8d1;">Pass Rate</div>
                            </div>
                            <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                                • 597 enrollments<br>
                                • Requires MATH160 foundation<br>
                                • 40.5% probation rate (F+D)<br>
                                • Critical for engineering success
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 15px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 15px;">⚠️ Pre-requisite Performance Gap</h4>
                        <p style="font-size: 1.05em; color: rgba(255, 255, 255, 0.9); line-height: 1.6;">
                            Students who struggle with MATH160 (remedial) show a <strong>6.5% lower pass rate</strong> in the subsequent MATH225 (linear algebra). 
                            This indicates that remedial mathematics performance is a strong predictor of success in advanced mathematics courses. 
                            Students scoring low in MATH160 require additional support before attempting MATH225.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3>📊 Mathematics Course Detailed Breakdown</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Course</th>
                                <th>Enrollments</th>
                                <th>GPA</th>
                                <th>Pass Rate</th>
                                <th>Fail Rate</th>
                                <th>Probation Rate (F+D)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: bold; color: #ff6b6b;">MATH161</td>
                                <td>121</td>
                                <td style="color: #ff6b6b;">0.0</td>
                                <td style="color: #ff6b6b;">51.2%</td>
                                <td style="color: #ff6b6b;">28.1%</td>
                                <td style="color: #ff6b6b;">-</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #ff9800;">MATH160</td>
                                <td>123</td>
                                <td style="color: #ff9800;">0.0</td>
                                <td style="color: #ff9800;">65.0%</td>
                                <td style="color: #ff9800;">13.8%</td>
                                <td style="color: #ff9800;">-</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #ff9800;">MATH220</td>
                                <td>644</td>
                                <td style="color: #ff9800;">2.031</td>
                                <td style="color: #ff9800;">52.3%</td>
                                <td style="color: #ff9800;">23.4%</td>
                                <td style="color: #ff9800;">35.1%</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #ffc107;">MATH225</td>
                                <td>597</td>
                                <td style="color: #ffc107;">1.979</td>
                                <td style="color: #ffc107;">58.5%</td>
                                <td style="color: #ff9800;">23.1%</td>
                                <td style="color: #ff9800;">40.5%</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #ffc107;">MATH210</td>
                                <td>821</td>
                                <td style="color: #ffc107;">2.135</td>
                                <td style="color: #ffc107;">54.7%</td>
                                <td style="color: #ff9800;">19.6%</td>
                                <td style="color: #ff9800;">33.5%</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold; color: #4caf50;">MATH375</td>
                                <td>199</td>
                                <td style="color: #4caf50;">2.141</td>
                                <td style="color: #4caf50;">71.9%</td>
                                <td style="color: #4caf50;">17.1%</td>
                                <td style="color: #ffc107;">43.2%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- EENG435 Deep Dive Tab -->
        <div id="eeng435-deep" class="tab-content">
            <div class="card">
                <h3>⚡ EENG435 Deep Dive: MENG vs EENG Performance</h3>
                <p style="color: #b8b8d1; margin-bottom: 30px;">
                    Detailed analysis of EENG435 (a challenging electrical engineering course) comparing performance between 
                    Mechanical Engineering (MENG) and Electrical Engineering (EENG) students to understand cross-disciplinary challenges.
                </p>

                <div class="eeng435-comparison">
                    <div class="comparison-grid">
                        <div class="major-comparison meng">
                            <div class="major-title meng">MENG</div>
                            <div style="font-size: 1.2em; color: #b8b8d1; margin-bottom: 20px;">Mechanical Engineers in EENG435</div>
                            
                            <div class="comparison-metric">
                                <span class="metric-name">Enrollments</span>
                                <span class="metric-val" style="color: #ff9800;">87 students</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Pass Rate</span>
                                <span class="metric-val" style="color: #ff9800;">65.5%</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Average GPA</span>
                                <span class="metric-val" style="color: #ff9800;">1.672</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Probation Rate (F+D)</span>
                                <span class="metric-val" style="color: #ff6b6b;">55.2%</span>
                            </div>
                            
                            <div style="background: rgba(255, 152, 0, 0.1); padding: 15px; border-radius: 10px; margin-top: 20px;">
                                <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.9);">
                                    <strong>Challenge:</strong> MENG students struggle more with this advanced electrical course, 
                                    showing 8.9% lower pass rate than EENG students.
                                </p>
                            </div>
                        </div>

                        <div class="major-comparison eeng">
                            <div class="major-title eeng">EENG</div>
                            <div style="font-size: 1.2em; color: #b8b8d1; margin-bottom: 20px;">Electrical Engineers in EENG435</div>
                            
                            <div class="comparison-metric">
                                <span class="metric-name">Enrollments</span>
                                <span class="metric-val" style="color: #4caf50;">43 students</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Pass Rate</span>
                                <span class="metric-val" style="color: #4caf50;">74.4%</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Average GPA</span>
                                <span class="metric-val" style="color: #4caf50;">1.878</span>
                            </div>
                            <div class="comparison-metric">
                                <span class="metric-name">Probation Rate (F+D)</span>
                                <span class="metric-val" style="color: #ff9800;">53.5%</span>
                            </div>
                            
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 10px; margin-top: 20px;">
                                <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.9);">
                                    <strong>Better Performance:</strong> EENG students perform better in their specialized course, 
                                    but still show concerning 53.5% probation rate.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
                        <div style="text-align: center; padding: 20px; background: rgba(255, 152, 0, 0.1); border-radius: 15px;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff9800;">-8.9%</div>
                            <div style="color: #b8b8d1;">Pass Rate Gap</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">MENG vs EENG</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 152, 0, 0.1); border-radius: 15px;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff9800;">0.206</div>
                            <div style="color: #b8b8d1;">GPA Difference</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">EENG advantage</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 107, 107, 0.1); border-radius: 15px;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b;">130</div>
                            <div style="color: #b8b8d1;">Total Students</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">Struggling in EENG435</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: rgba(255, 107, 107, 0.1); border-radius: 15px;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b;">54.6%</div>
                            <div style="color: #b8b8d1;">Combined Probation</div>
                            <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6);">F+D grades overall</div>
                        </div>
                    </div>

                    <div style="background: rgba(255, 107, 107, 0.1); padding: 25px; border-radius: 15px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 15px;">⚠️ EENG435 Critical Findings</h4>
                        <p style="font-size: 1.05em; color: rgba(255, 255, 255, 0.9); line-height: 1.6;">
                            <strong>Cross-disciplinary challenge:</strong> EENG435 represents a critical bottleneck course where even specialized EENG students 
                            achieve only 74.4% pass rate with 53.5% probation rate. MENG students face additional challenges with 65.5% pass rate. 
                            The course requires <strong>immediate curriculum review and enhanced support systems</strong> for both majors, with special attention 
                            to preparing MENG students for advanced electrical engineering concepts.
                        </p>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255, 255, 255, 0.2);">
                            <strong>Recommendation:</strong> Consider prerequisite strengthening, cross-disciplinary tutoring programs, 
                            and instructor training to address the 54.6% combined probation rate in this critical course.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Department Analysis Tab -->
        <div id="department" class="tab-content">
            <h2>🏢 Department Analysis - Spring 2024-2025</h2>
            <p style="color: #b8b8d1; margin-bottom: 30px;">
                Performance analysis of SoEN students across different engineering majors for Spring 2024-2025.
            </p>

            <!-- Major Performance Table -->
            <div class="card">
                <h3 style="color: #667eea; margin-bottom: 20px;">📊 Performance by Engineering Major</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(102, 126, 234, 0.1);">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Major</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Students</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Avg GPA</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Fail Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Probation Rate (F+D)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MENG</td>
                                <td style="padding: 12px; text-align: center;">1,588</td>
                                <td style="padding: 12px; text-align: center;">8,239</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.09</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">73.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">15.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">35.6%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">CENG</td>
                                <td style="padding: 12px; text-align: center;">1,277</td>
                                <td style="padding: 12px; text-align: center;">6,847</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.54</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">80.8%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">9.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">25.7%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">EENG</td>
                                <td style="padding: 12px; text-align: center;">700</td>
                                <td style="padding: 12px; text-align: center;">3,468</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.13</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">71.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">16.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">34.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">TENG</td>
                                <td style="padding: 12px; text-align: center;">610</td>
                                <td style="padding: 12px; text-align: center;">3,013</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.15</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">71.4%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">14.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">33.4%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BENG</td>
                                <td style="padding: 12px; text-align: center;">493</td>
                                <td style="padding: 12px; text-align: center;">2,446</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.40</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">79.9%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">11.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">29.1%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MMENG</td>
                                <td style="padding: 12px; text-align: center;">306</td>
                                <td style="padding: 12px; text-align: center;">1,197</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.41</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">88.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">7.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">30.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MCCE</td>
                                <td style="padding: 12px; text-align: center;">264</td>
                                <td style="padding: 12px; text-align: center;">1,127</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.53</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">92.3%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.3%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">20.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MEENG</td>
                                <td style="padding: 12px; text-align: center;">162</td>
                                <td style="padding: 12px; text-align: center;">665</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.75</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">94.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">4.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">20.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">LENG</td>
                                <td style="padding: 12px; text-align: center;">160</td>
                                <td style="padding: 12px; text-align: center;">827</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.08</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">71.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">16.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">33.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MBENG</td>
                                <td style="padding: 12px; text-align: center;">128</td>
                                <td style="padding: 12px; text-align: center;">590</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.78</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">96.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">17.1%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">SURV</td>
                                <td style="padding: 12px; text-align: center;">107</td>
                                <td style="padding: 12px; text-align: center;">492</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.29</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">74.4%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">12.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">31.1%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">IENG</td>
                                <td style="padding: 12px; text-align: center;">77</td>
                                <td style="padding: 12px; text-align: center;">349</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.40</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">74.2%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">11.7%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">24.6%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MSURV</td>
                                <td style="padding: 12px; text-align: center;">66</td>
                                <td style="padding: 12px; text-align: center;">239</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.67</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">94.6%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.3%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">23.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MIENG</td>
                                <td style="padding: 12px; text-align: center;">31</td>
                                <td style="padding: 12px; text-align: center;">129</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.69</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">92.2%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">7.0%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">24.8%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BEMENG</td>
                                <td style="padding: 12px; text-align: center;">23</td>
                                <td style="padding: 12px; text-align: center;">69</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">1.54</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">58.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">27.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">44.9%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BECCE</td>
                                <td style="padding: 12px; text-align: center;">12</td>
                                <td style="padding: 12px; text-align: center;">43</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">1.47</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">58.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">27.9%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">46.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">MLENG</td>
                                <td style="padding: 12px; text-align: center;">11</td>
                                <td style="padding: 12px; text-align: center;">48</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.29</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">91.7%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">8.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">37.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BEEENG</td>
                                <td style="padding: 12px; text-align: center;">10</td>
                                <td style="padding: 12px; text-align: center;">28</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">1.62</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">60.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">25.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">42.9%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BESURV</td>
                                <td style="padding: 12px; text-align: center;">7</td>
                                <td style="padding: 12px; text-align: center;">21</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">1.08</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">23.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">28.6%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">28.6%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BEBENG</td>
                                <td style="padding: 12px; text-align: center;">5</td>
                                <td style="padding: 12px; text-align: center;">14</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.17</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">85.7%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">7.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">21.4%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BEIENG</td>
                                <td style="padding: 12px; text-align: center;">3</td>
                                <td style="padding: 12px; text-align: center;">9</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">1.07</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">44.4%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">33.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">44.4%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">BELENG</td>
                                <td style="padding: 12px; text-align: center;">3</td>
                                <td style="padding: 12px; text-align: center;">11</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.37</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">100.0%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">0.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">45.5%</td>
                            </tr>
                            <tr style="border-top: 2px solid rgba(255, 255, 255, 0.3); background: rgba(102, 126, 234, 0.05);">
                                <td style="padding: 12px; font-weight: bold;">TOTAL</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">6,043</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">29,871</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">2.31</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff9800;">77.7%</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff9800;">12.3%</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff6b6b;">30.5%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: #667eea; margin-bottom: 20px;">💡 Key Department Insights</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">🏆 Top Performers</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>Highest GPA:</strong> MBENG (2.78)</li>
                            <li style="margin-bottom: 8px;">• <strong>Best Pass Rate:</strong> MBENG (96.1%)</li>
                            <li style="margin-bottom: 8px;">• <strong>Lowest Probation:</strong> MBENG (17.1%)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 10px;">⚠️ Areas of Concern</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>Lowest GPA:</strong> BEIENG (1.07)</li>
                            <li style="margin-bottom: 8px;">• <strong>Highest Probation:</strong> BECCE (46.5%)</li>
                            <li style="margin-bottom: 8px;">• <strong>Large program struggles:</strong> MENG, EENG, TENG</li>
                        </ul>
                    </div>
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 10px;">📊 Program Distribution</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>Largest Major:</strong> MENG (26.3% of SoEN)</li>
                            <li style="margin-bottom: 8px;">• <strong>Top 3 Majors:</strong> 58.9% of all students</li>
                            <li>• <strong>Masters Programs:</strong> Better performance overall</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Class Levels Tab -->
        <div id="class-levels" class="tab-content">
            <h2>📚 Class Level Analysis - Spring 2024-2025</h2>
            <p style="color: #b8b8d1; margin-bottom: 30px;">
                Performance metrics across different course levels for SoEN students. Analyzing progression from 100-level to 600-level courses.
            </p>

            <!-- Key Metrics Summary -->
            <div class="kpi-grid" style="margin-bottom: 30px;">
                <div class="kpi-card">
                    <div class="kpi-value warning">37.5%</div>
                    <div class="kpi-label">300-Level Probation Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Highest among all levels</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value danger">67.6%</div>
                    <div class="kpi-label">200-Level Pass Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Lowest pass rate</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value good">91.9%</div>
                    <div class="kpi-label">600-Level Pass Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Graduate performance</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value warning">2.16</div>
                    <div class="kpi-label">300-Level GPA</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Lowest GPA point</div>
                </div>
            </div>

            <!-- Performance by Class Level Table -->
            <div class="card">
                <h3 style="color: #667eea; margin-bottom: 20px;">📊 Performance Metrics by Class Level</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(102, 126, 234, 0.1);">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Course Level</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Students</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Avg GPA</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Fail Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">W/AW Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Probation Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">100-Level</td>
                                <td style="padding: 12px; text-align: center;">865</td>
                                <td style="padding: 12px; text-align: center;">1,503</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">0.00</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">71.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">14.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">13.8%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">0.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">200-Level</td>
                                <td style="padding: 12px; text-align: center;">3,212</td>
                                <td style="padding: 12px; text-align: center;">10,048</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.22</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">67.6%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">16.2%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">16.2%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">34.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">300-Level</td>
                                <td style="padding: 12px; text-align: center;">2,333</td>
                                <td style="padding: 12px; text-align: center;">7,325</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.16</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">74.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">15.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">10.9%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">37.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">400-Level</td>
                                <td style="padding: 12px; text-align: center;">1,959</td>
                                <td style="padding: 12px; text-align: center;">6,915</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.48</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">89.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">7.5%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">28.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">500-Level</td>
                                <td style="padding: 12px; text-align: center;">896</td>
                                <td style="padding: 12px; text-align: center;">2,441</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.55</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">90.8%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">5.9%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">25.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">600-Level</td>
                                <td style="padding: 12px; text-align: center;">771</td>
                                <td style="padding: 12px; text-align: center;">1,639</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.58</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">91.9%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.7%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">1.8%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">21.5%</td>
                            </tr>
                            <tr style="border-top: 2px solid rgba(255, 255, 255, 0.3); background: rgba(102, 126, 234, 0.05);">
                                <td style="padding: 12px; font-weight: bold;">TOTAL</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">6,043</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">29,871</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold;">2.31</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff9800;">77.7%</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff9800;">12.3%</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #4caf50;">9.9%</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #ff6b6b;">30.5%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Grade Distribution by Level -->
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: #667eea; margin-bottom: 20px;">📈 Grade Distribution Trends</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(102, 126, 234, 0.1);">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Course Level</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">A Grades</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">B Grades</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">C Grades</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">D/F Grades</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">100-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">0.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">0.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">0.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">0.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">200-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">16.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">16.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">17.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">34.0%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">300-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">12.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">17.2%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">22.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">37.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">400-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">12.3%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">26.2%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">29.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">28.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">500-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">12.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">26.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">32.5%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">25.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">600-Level</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">9.6%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">32.8%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">31.7%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">21.5%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: #667eea; margin-bottom: 20px;">💡 Critical Insights</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 10px;">⚠️ Critical Bottlenecks</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>200-300 Level Crisis:</strong> Lowest pass rates (67.6% and 74.1%)</li>
                            <li style="margin-bottom: 8px;">• <strong>Peak Probation:</strong> 37.5% at 300-level courses</li>
                            <li style="margin-bottom: 8px;">• <strong>High Withdrawal:</strong> 16.2% W/AW rate at 200-level</li>
                            <li>• <strong>GPA Valley:</strong> 2.16 GPA at 300-level (lowest)</li>
                        </ul>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">✅ Performance Recovery</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>400+ Improvement:</strong> Pass rates jump to 89.4%</li>
                            <li style="margin-bottom: 8px;">• <strong>Graduate Success:</strong> 91.9% pass rate at 600-level</li>
                            <li style="margin-bottom: 8px;">• <strong>Reduced Withdrawals:</strong> Only 1.8% at 600-level</li>
                            <li>• <strong>GPA Recovery:</strong> Steady increase from 400-level onwards</li>
                        </ul>
                    </div>
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 10px;">📊 Progression Pattern</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>100-Level:</strong> Pass/Fail courses (0.00 GPA)</li>
                            <li style="margin-bottom: 8px;">• <strong>200-300:</strong> Major academic struggle period</li>
                            <li style="margin-bottom: 8px;">• <strong>400+:</strong> Survivors perform significantly better</li>
                            <li>• <strong>Graduate:</strong> Strong performance at 500-600 levels</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Critical Analysis -->
            <div style="background: rgba(255, 107, 107, 0.1); padding: 25px; border-radius: 15px; border-left: 4px solid #ff6b6b; margin-top: 30px;">
                <h4 style="color: #ff6b6b; margin-bottom: 15px;">🚨 200-300 Level Crisis Analysis</h4>
                <p style="font-size: 1.05em; color: rgba(255, 255, 255, 0.9); line-height: 1.6; margin-bottom: 15px;">
                    The data reveals a critical academic bottleneck at the 200-300 course levels, where students face their most significant challenges:
                </p>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>200-Level:</strong> Lowest pass rate (67.6%) and highest withdrawal rate (16.2%)</li>
                    <li><strong>300-Level:</strong> Highest probation rate (37.5%) and lowest GPA (2.16)</li>
                    <li><strong>Combined Impact:</strong> Over 1/3 of students struggle with D/F grades at these levels</li>
                </ul>
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.2);">
                    <strong style="color: #ffd93d;">Recommendations:</strong>
                    <ol style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                        <li>Implement enhanced support systems for 200-300 level courses</li>
                        <li>Review curriculum difficulty progression and prerequisites</li>
                        <li>Provide early intervention for students showing signs of struggle</li>
                        <li>Consider supplemental instruction or peer tutoring programs</li>
                    </ol>
                </div>
            </div>

            <!-- Survivor Bias Note -->
            <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 15px; margin-top: 20px;">
                <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                    <strong>Note on 400+ Level Performance:</strong> The significant improvement in pass rates and GPA at 400-600 levels likely reflects survivor bias, 
                    where students who struggled have already left the program. The 89.4% pass rate at 400-level represents students who successfully 
                    navigated the challenging 200-300 level courses.
                </p>
            </div>
        </div>

        <!-- Timeslot Analysis Tab -->
        <div id="timeslot" class="tab-content">
            <h2>⏰ Timeslot Analysis - Spring 2024-2025</h2>
            <p style="color: #b8b8d1; margin-bottom: 30px;">
                Analyzing how course scheduling (time of day and day patterns) impacts student performance in SoEN.
            </p>

            <!-- Key Findings Summary -->
            <div class="kpi-grid" style="margin-bottom: 30px;">
                <div class="kpi-card">
                    <div class="kpi-value good">90.5%</div>
                    <div class="kpi-label">Evening Pass Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">5PM-9PM classes</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value warning">75.4%</div>
                    <div class="kpi-label">Morning Pass Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">6AM-12PM classes</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value danger">12.1%</div>
                    <div class="kpi-label">MW Withdrawal Rate</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Highest withdrawal</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value good">2.58</div>
                    <div class="kpi-label">Friday GPA</div>
                    <div style="font-size: 0.8em; color: rgba(255, 255, 255, 0.6); margin-top: 5px;">Best performing day</div>
                </div>
            </div>

            <!-- Time of Day Analysis -->
            <div class="card">
                <h3 style="color: #667eea; margin-bottom: 20px;">🌅 Performance by Time of Day</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(102, 126, 234, 0.1);">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Time Slot</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Students</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Avg GPA</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Fail Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Withdrawal Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Probation Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Morning (6AM-12PM)</td>
                                <td style="padding: 12px; text-align: center;">5,190</td>
                                <td style="padding: 12px; text-align: center;">16,232</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.25</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">75.4%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">13.6%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">10.8%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">31.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Afternoon (12PM-5PM)</td>
                                <td style="padding: 12px; text-align: center;">5,401</td>
                                <td style="padding: 12px; text-align: center;">12,088</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.36</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">79.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">11.2%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">9.6%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">29.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Evening (5PM-9PM)</td>
                                <td style="padding: 12px; text-align: center;">587</td>
                                <td style="padding: 12px; text-align: center;">1,551</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.44</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">90.5%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">6.6%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">3.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">28.1%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Day Pattern Analysis -->
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: #667eea; margin-bottom: 20px;">📅 Performance by Day Pattern</h3>
                <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.7); margin-bottom: 20px;">
                    <em>Note: Students are counted in each day pattern where they have courses. For example, a student with both Monday-only 
                    and Friday-only courses appears in both categories. The analysis shows how students perform in courses with specific 
                    scheduling patterns, not students who exclusively attend on certain days.</em>
                </p>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(102, 126, 234, 0.1);">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Day Pattern</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Students</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Enrollments</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Avg GPA</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Pass Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Fail Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Withdrawal Rate</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid rgba(255, 255, 255, 0.2);">Probation Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Monday/Wednesday</td>
                                <td style="padding: 12px; text-align: center;">4,418</td>
                                <td style="padding: 12px; text-align: center;">9,845</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.18</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">71.9%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">16.0%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">12.1%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">35.5%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Tuesday/Thursday</td>
                                <td style="padding: 12px; text-align: center;">4,495</td>
                                <td style="padding: 12px; text-align: center;">9,875</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.23</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">73.6%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">14.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">11.7%</td>
                                <td style="padding: 12px; text-align: center; color: #ff6b6b;">33.7%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Monday Only</td>
                                <td style="padding: 12px; text-align: center;">2,542</td>
                                <td style="padding: 12px; text-align: center;">3,056</td>
                                <td style="padding: 12px; text-align: center; color: #ff9800;">2.35</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">83.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">8.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">8.2%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">18.3%</td>
                            </tr>
                            <tr style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                                <td style="padding: 12px; font-weight: bold;">Friday Only</td>
                                <td style="padding: 12px; text-align: center;">264</td>
                                <td style="padding: 12px; text-align: center;">289</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.58</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">93.1%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">4.5%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">2.4%</td>
                                <td style="padding: 12px; text-align: center; color: #4caf50;">22.5%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: #667eea; margin-bottom: 20px;">💡 Key Timeslot Insights</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">✅ Optimal Performance Times</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>Evening Classes:</strong> 90.5% pass rate, 3.0% withdrawal</li>
                            <li style="margin-bottom: 8px;">• <strong>Friday Classes:</strong> 93.1% pass rate, 2.58 GPA</li>
                            <li style="margin-bottom: 8px;">• <strong>Once-a-week:</strong> Better performance overall</li>
                            <li>• <strong>Lower stress:</strong> Fewer withdrawals in evening</li>
                        </ul>
                    </div>
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                        <h4 style="color: #ff6b6b; margin-bottom: 10px;">⚠️ Challenging Schedules</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>MW Pattern:</strong> 35.5% probation, 12.1% withdrawal</li>
                            <li style="margin-bottom: 8px;">• <strong>Morning Classes:</strong> Lowest pass rate (75.4%)</li>
                            <li style="margin-bottom: 8px;">• <strong>Twice-weekly:</strong> Higher stress and failure</li>
                            <li>• <strong>Early start:</strong> 31.5% probation in morning</li>
                        </ul>
                    </div>
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #667eea; margin-bottom: 10px;">📊 Schedule Patterns</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 8px;">• <strong>Most Common:</strong> Morning classes (54% of enrollments)</li>
                            <li style="margin-bottom: 8px;">• <strong>Least Common:</strong> Evening classes (5% of enrollments)</li>
                            <li style="margin-bottom: 8px;">• <strong>MW vs TR:</strong> TR performs slightly better</li>
                            <li>• <strong>Student Load:</strong> ~5,000 students in morning/afternoon</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Detailed Analysis -->
            <div style="background: rgba(255, 152, 0, 0.1); padding: 25px; border-radius: 15px; border-left: 4px solid #ff9800; margin-top: 30px;">
                <h4 style="color: #ff9800; margin-bottom: 15px;">🔍 Schedule Impact Analysis</h4>
                <p style="font-size: 1.05em; color: rgba(255, 255, 255, 0.9); line-height: 1.6; margin-bottom: 15px;">
                    The data reveals significant performance variations based on course scheduling:
                </p>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Evening Advantage:</strong> Evening classes show 15% higher pass rates than morning classes, likely due to student alertness and preparation</li>
                    <li><strong>MW Stress Pattern:</strong> Monday/Wednesday classes have the highest withdrawal rate (12.1%) and probation rate (35.5%)</li>
                    <li><strong>Once-Weekly Benefits:</strong> Single-day classes (M only, F only) show significantly better outcomes than twice-weekly patterns</li>
                    <li><strong>Morning Struggles:</strong> Early classes (6AM-12PM) correlate with lower GPAs and higher failure rates</li>
                </ul>
            </div>

            <!-- Recommendations -->
            <div style="background: rgba(76, 175, 80, 0.1); padding: 25px; border-radius: 15px; margin-top: 20px;">
                <h4 style="color: #4caf50; margin-bottom: 15px;">💡 Scheduling Recommendations</h4>
                <ol style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Increase Evening Offerings:</strong> Consider more 5PM-9PM slots for challenging courses</li>
                    <li><strong>Review MW Pattern:</strong> Investigate why MW classes underperform and consider alternatives</li>
                    <li><strong>Support Morning Students:</strong> Provide additional resources for early morning classes</li>
                    <li><strong>Optimize Critical Courses:</strong> Schedule difficult courses during optimal performance times</li>
                    <li><strong>Consider Once-Weekly Format:</strong> Explore longer, once-weekly sessions for appropriate courses</li>
                </ol>
            </div>

            <!-- Statistical Note -->
            <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 15px; margin-top: 20px;">
                <p style="font-size: 0.9em; color: rgba(255, 255, 255, 0.8);">
                    <strong>Note:</strong> Evening classes represent only 5% of total enrollments, which may indicate self-selection bias where 
                    more motivated or mature students choose evening slots. The performance differences should be interpreted with this context in mind.
                </p>
            </div>
        </div>
    </div>

    <!-- Previous Semesters Tab -->
    <div id="previous-semesters" class="tab-content">
        <h2>📊 Previous Semesters Overview</h2>
        <p style="color: #b8b8d1; margin-bottom: 30px;">
            Performance comparison across all previous semesters to understand trends and identify improvements or areas of concern.
        </p>
        
        <!-- Performance Trend Chart -->
        <div class="card" style="margin-bottom: 40px;">
            <h3>📈 Performance Trends Over Time</h3>
            <div style="position: relative; height: 400px; margin-top: 20px;">
                <canvas id="performanceTrendChart"></canvas>
            </div>
            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                <button onclick="updateChartView('gpa')" class="chart-btn" style="padding: 8px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">GPA Trends</button>
                <button onclick="updateChartView('rates')" class="chart-btn" style="padding: 8px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Pass/Fail Rates</button>
                <button onclick="updateChartView('enrollment')" class="chart-btn" style="padding: 8px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Enrollment Trends</button>
            </div>
        </div>
        
        <!-- Previous semesters content will be dynamically populated here -->
        <div id="previous-semesters-content">
            <!-- Content will be loaded dynamically -->
        </div>
    </div>

    <!-- Course Synergy Tab -->
    <div id="course-synergy" class="tab-content">
        <h2>🔄 Course Synergy Analysis</h2>
        <p style="color: #b8b8d1; margin-bottom: 30px;">
            Discover which course combinations enhance or hinder student performance. Based on <strong>REAL DATA</strong> from Spring 2024-2025 
            semester analyzing 4,386 SoEN students taking multiple courses. Total of 386 course pairs analyzed with at least 15 students each.
        </p>
        
        <!-- Synergy Explanation -->
        <div class="card" style="background: rgba(102, 126, 234, 0.1); padding: 25px; margin-bottom: 30px;">
            <h3 style="color: #667eea; margin-bottom: 15px;">📊 What is Course Synergy?</h3>
            <p style="line-height: 1.8; margin-bottom: 15px;">
                Course Synergy Score measures whether students perform better or worse when taking certain courses together 
                compared to taking them separately. A <span style="color: #4caf50; font-weight: bold;">positive synergy</span> 
                means the combination enhances performance, while a <span style="color: #ff6b6b; font-weight: bold;">negative synergy</span> 
                indicates the combination creates challenges.
            </p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px;">
                    <div style="font-size: 2em;">🎯</div>
                    <strong>Positive Synergy</strong>
                    <div style="font-size: 0.9em; color: #b8b8d1; margin-top: 5px;">
                        Skills reinforce each other<br>Balanced workload distribution
                    </div>
                </div>
                <div style="text-align: center; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px;">
                    <div style="font-size: 2em;">⚠️</div>
                    <strong>Negative Synergy</strong>
                    <div style="font-size: 0.9em; color: #b8b8d1; margin-top: 5px;">
                        Overlapping heavy workloads<br>Conflicting deadlines/concepts
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Positive Synergies -->
        <div class="card" style="margin-bottom: 30px;">
            <h3 style="color: #4caf50; margin-bottom: 20px;">✅ Recommended Course Combinations</h3>
            <p style="color: #b8b8d1; margin-bottom: 20px;">These course pairs show positive synergy - students typically perform better when taking them together.</p>
            <div id="positive-synergies" style="display: grid; gap: 15px;">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Negative Synergies -->
        <div class="card">
            <h3 style="color: #ff6b6b; margin-bottom: 20px;">❌ Challenging Course Combinations</h3>
            <p style="color: #b8b8d1; margin-bottom: 20px;">These course pairs show negative synergy - students typically struggle when taking them together.</p>
            <div id="negative-synergies" style="display: grid; gap: 15px;">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Synergy Visualization -->
        <div class="card" style="margin-top: 30px;">
            <h3 style="color: #667eea; margin-bottom: 20px;">📈 Synergy Score Distribution</h3>
            <div style="position: relative; height: 300px;">
                <canvas id="synergyChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        // SoAS courses data
        const soasCoursesData = {
            "summary": {
                "total_students": 3022,
                "total_enrollments": 6807,
                "unique_courses": 26
            },
            "courses": [
                {"course": "MATH210", "students": 821, "enrollments": 821, "avg_gpa": 2.13, "pass_rate": 54.7, "fail_rate": 19.6, "w_rate": 13.5, "aw_rate": 12.1, "probation_rate": 33.5, "a_b_rate": 29.8},
                {"course": "CSCI250", "students": 809, "enrollments": 809, "avg_gpa": 2.14, "pass_rate": 58.1, "fail_rate": 21.3, "w_rate": 10.9, "aw_rate": 9.8, "probation_rate": 35.6, "a_b_rate": 32.3},
                {"course": "CSCI250L", "students": 771, "enrollments": 771, "avg_gpa": 2.46, "pass_rate": 65.8, "fail_rate": 13.2, "w_rate": 11.0, "aw_rate": 10.0, "probation_rate": 28.7, "a_b_rate": 37.2},
                {"course": "PHYS220", "students": 654, "enrollments": 654, "avg_gpa": 2.13, "pass_rate": 61.0, "fail_rate": 17.7, "w_rate": 11.9, "aw_rate": 9.3, "probation_rate": 34.6, "a_b_rate": 27.2},
                {"course": "MATH220", "students": 644, "enrollments": 644, "avg_gpa": 2.03, "pass_rate": 52.3, "fail_rate": 23.4, "w_rate": 14.4, "aw_rate": 9.8, "probation_rate": 35.1, "a_b_rate": 28.7},
                {"course": "MATH225", "students": 597, "enrollments": 597, "avg_gpa": 1.98, "pass_rate": 58.5, "fail_rate": 23.1, "w_rate": 10.6, "aw_rate": 7.9, "probation_rate": 40.5, "a_b_rate": 27.6},
                {"course": "MATH270", "students": 571, "enrollments": 571, "avg_gpa": 1.99, "pass_rate": 59.2, "fail_rate": 22.1, "w_rate": 11.6, "aw_rate": 7.2, "probation_rate": 41.0, "a_b_rate": 28.9},
                {"course": "MATH310", "students": 451, "enrollments": 451, "avg_gpa": 2.01, "pass_rate": 57.0, "fail_rate": 20.8, "w_rate": 12.2, "aw_rate": 9.8, "probation_rate": 38.4, "a_b_rate": 27.9},
                {"course": "CSCI300", "students": 261, "enrollments": 261, "avg_gpa": 2.32, "pass_rate": 67.0, "fail_rate": 12.3, "w_rate": 13.4, "aw_rate": 7.3, "probation_rate": 31.4, "a_b_rate": 30.7},
                {"course": "CHEM200", "students": 234, "enrollments": 234, "avg_gpa": 1.75, "pass_rate": 64.1, "fail_rate": 23.5, "w_rate": 3.8, "aw_rate": 8.5, "probation_rate": 46.6, "a_b_rate": 21.8},
                {"course": "MATH375", "students": 199, "enrollments": 199, "avg_gpa": 2.14, "pass_rate": 71.9, "fail_rate": 17.1, "w_rate": 3.0, "aw_rate": 8.0, "probation_rate": 43.2, "a_b_rate": 31.2},
                {"course": "CHEM160", "students": 169, "enrollments": 169, "avg_gpa": 0.0, "pass_rate": 69.2, "fail_rate": 18.3, "w_rate": 1.8, "aw_rate": 10.7, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "PHYS160", "students": 163, "enrollments": 163, "avg_gpa": 0.0, "pass_rate": 67.5, "fail_rate": 17.8, "w_rate": 4.3, "aw_rate": 10.4, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "PHYS161", "students": 127, "enrollments": 127, "avg_gpa": 0.0, "pass_rate": 52.8, "fail_rate": 22.8, "w_rate": 6.3, "aw_rate": 18.1, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "MATH160", "students": 123, "enrollments": 123, "avg_gpa": 0.0, "pass_rate": 65.0, "fail_rate": 13.8, "w_rate": 3.3, "aw_rate": 17.9, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "MATH161", "students": 121, "enrollments": 121, "avg_gpa": 0.0, "pass_rate": 51.2, "fail_rate": 28.1, "w_rate": 2.5, "aw_rate": 18.2, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "ARTS204", "students": 32, "enrollments": 32, "avg_gpa": 3.36, "pass_rate": 93.8, "fail_rate": 3.1, "w_rate": 0.0, "aw_rate": 3.1, "probation_rate": 3.1, "a_b_rate": 84.4},
                {"course": "BIOL160", "students": 24, "enrollments": 24, "avg_gpa": 0.0, "pass_rate": 75.0, "fail_rate": 8.3, "w_rate": 0.0, "aw_rate": 16.7, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "COMM200", "students": 12, "enrollments": 12, "avg_gpa": 2.41, "pass_rate": 75.0, "fail_rate": 8.3, "w_rate": 8.3, "aw_rate": 8.3, "probation_rate": 33.3, "a_b_rate": 41.7},
                {"course": "COMM220", "students": 7, "enrollments": 7, "avg_gpa": 2.34, "pass_rate": 71.4, "fail_rate": 0.0, "w_rate": 14.3, "aw_rate": 14.3, "probation_rate": 14.3, "a_b_rate": 14.3},
                {"course": "CSCI200", "students": 6, "enrollments": 6, "avg_gpa": 3.94, "pass_rate": 83.3, "fail_rate": 0.0, "w_rate": 16.7, "aw_rate": 0.0, "probation_rate": 0.0, "a_b_rate": 83.3},
                {"course": "COMM205", "students": 4, "enrollments": 4, "avg_gpa": 3.08, "pass_rate": 100.0, "fail_rate": 0.0, "w_rate": 0.0, "aw_rate": 0.0, "probation_rate": 25.0, "a_b_rate": 50.0},
                {"course": "ARTS215", "students": 3, "enrollments": 3, "avg_gpa": 2.6, "pass_rate": 33.3, "fail_rate": 0.0, "w_rate": 0.0, "aw_rate": 66.7, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "MATH260", "students": 2, "enrollments": 2, "avg_gpa": 3.7, "pass_rate": 50.0, "fail_rate": 0.0, "w_rate": 50.0, "aw_rate": 0.0, "probation_rate": 0.0, "a_b_rate": 50.0},
                {"course": "ARTS210", "students": 1, "enrollments": 1, "avg_gpa": 2.6, "pass_rate": 100.0, "fail_rate": 0.0, "w_rate": 0.0, "aw_rate": 0.0, "probation_rate": 0.0, "a_b_rate": 0.0},
                {"course": "CSCI465", "students": 1, "enrollments": 1, "avg_gpa": 0, "pass_rate": 0.0, "fail_rate": 0.0, "w_rate": 0.0, "aw_rate": 100.0, "probation_rate": 0.0, "a_b_rate": 0.0}
            ]
        };

        // Load SoAS courses data directly
        const loadSoASCoursesData = () => {
            const data = soasCoursesData;
                const tbody = document.getElementById('soas-courses-tbody');
                if (tbody && data.courses) {
                    // Clear loading message
                    tbody.innerHTML = '';
                    
                    data.courses.forEach((course, index) => {
                        const row = document.createElement('tr');
                        row.style.borderBottom = '1px solid rgba(255, 255, 255, 0.1)';
                        if (index % 2 === 0) {
                            row.style.background = 'rgba(255, 255, 255, 0.02)';
                        }
                        
                        // Color code based on pass rate
                        let passRateColor = '#4caf50';
                        if (course.pass_rate < 60) passRateColor = '#ff6b6b';
                        else if (course.pass_rate < 70) passRateColor = '#ff9800';
                        else if (course.pass_rate < 80) passRateColor = '#ffc107';
                        
                        // Color code GPA
                        let gpaColor = '#4caf50';
                        if (course.avg_gpa < 2.0 && course.avg_gpa > 0) gpaColor = '#ff6b6b';
                        else if (course.avg_gpa < 2.5 && course.avg_gpa > 0) gpaColor = '#ff9800';
                        else if (course.avg_gpa === 0) gpaColor = '#b8b8d1';
                        
                        row.innerHTML = `
                            <td style="padding: 10px; font-weight: bold;">${course.course}</td>
                            <td style="padding: 10px; text-align: center;">${course.students}</td>
                            <td style="padding: 10px; text-align: center;">${course.enrollments}</td>
                            <td style="padding: 10px; text-align: center; color: ${gpaColor}; font-weight: bold;">
                                ${course.avg_gpa === 0 ? 'P/F' : course.avg_gpa.toFixed(2)}
                            </td>
                            <td style="padding: 10px; text-align: center; color: ${passRateColor}; font-weight: bold;">${course.pass_rate}%</td>
                            <td style="padding: 10px; text-align: center; color: ${course.fail_rate > 20 ? '#ff6b6b' : '#b8b8d1'};">${course.fail_rate}%</td>
                            <td style="padding: 10px; text-align: center; color: ${course.w_rate > 10 ? '#ff9800' : '#b8b8d1'};">${course.w_rate}%</td>
                            <td style="padding: 10px; text-align: center; color: ${course.aw_rate > 10 ? '#ff9800' : '#b8b8d1'};">${course.aw_rate}%</td>
                            <td style="padding: 10px; text-align: center; color: ${course.probation_rate > 30 ? '#ff6b6b' : '#b8b8d1'};">${course.probation_rate}%</td>
                            <td style="padding: 10px; text-align: center; color: ${course.a_b_rate > 40 ? '#4caf50' : '#b8b8d1'};">${course.a_b_rate}%</td>
                        `;
                        tbody.appendChild(row);
                    });
                }
        };
        
        // Load the data when page loads
        loadSoASCoursesData();
        
        
        // Hardcoded semester data
        const semesterData = {
            previousSemesters: {
                "Spring 2023 - 2024": {
                    overview_metrics: {
                        overall_gpa: 2.332,  // Recalculated excluding 100-level courses
                        soas_gpa: 2.226,  // SoEN students' GPA in SoAS courses
                        soen_gpa: 2.343,  // SoEN students' GPA in SoEN courses (from pivot table)
                        pass_rate: 78.1,
                        fail_rate: 12.4,
                        probation_rate: 30.6,
                        total_enrollments: 28310,
                        unique_students: 6034,
                        withdrawal_rate: 9.5
                    },
                    course_level_breakdown: {
                        Level_100: { enrollments: 1616, avg_gpa: 0.0, pass_rate: 73.0 },
                        Level_200: { enrollments: 9069, avg_gpa: 2.308, pass_rate: 70.5 },
                        Level_300: { enrollments: 8643, avg_gpa: 2.135, pass_rate: 75.1 },
                        Level_400: { enrollments: 5516, avg_gpa: 2.500, pass_rate: 88.6 },
                        Level_500: { enrollments: 2102, avg_gpa: 2.427, pass_rate: 90.0 }
                    }
                },
                "Spring 2022 - 2023": {
                    overview_metrics: {
                        overall_gpa: 2.278,  // Recalculated excluding 100-level courses
                        soas_gpa: 2.329,  // SoEN students' GPA in SoAS courses
                        soen_gpa: 2.250,  // SoEN students' GPA in SoEN courses (from pivot table)
                        pass_rate: 78.6,
                        fail_rate: 12.3,
                        probation_rate: 32.7,
                        total_enrollments: 29602,
                        unique_students: 6329,
                        withdrawal_rate: 9.1
                    },
                    course_level_breakdown: {
                        Level_100: { enrollments: 1370, avg_gpa: 0.0, pass_rate: 75.3 },
                        Level_200: { enrollments: 10229, avg_gpa: 2.271, pass_rate: 72.6 },
                        Level_300: { enrollments: 8875, avg_gpa: 2.099, pass_rate: 77.5 },
                        Level_400: { enrollments: 5343, avg_gpa: 2.311, pass_rate: 84.5 },
                        Level_500: { enrollments: 2364, avg_gpa: 2.486, pass_rate: 88.2 }
                    }
                },
                "Spring 2021 - 2022": {
                    overview_metrics: {
                        overall_gpa: 2.155,  // Recalculated excluding 100-level courses
                        soas_gpa: 1.915,  // SoEN students' GPA in SoAS courses
                        soen_gpa: 2.148,  // SoEN students' GPA in SoEN courses (from pivot table)
                        pass_rate: 71.3,
                        fail_rate: 16.7,
                        probation_rate: 34.4,
                        total_enrollments: 33382,
                        unique_students: 7050,
                        withdrawal_rate: 11.9
                    },
                    course_level_breakdown: {
                        Level_100: { enrollments: 1517, avg_gpa: 0.0, pass_rate: 70.9 },
                        Level_200: { enrollments: 12415, avg_gpa: 2.114, pass_rate: 66.8 },
                        Level_300: { enrollments: 8770, avg_gpa: 1.963, pass_rate: 65.2 },
                        Level_400: { enrollments: 5377, avg_gpa: 2.240, pass_rate: 77.8 },
                        Level_500: { enrollments: 3152, avg_gpa: 2.361, pass_rate: 82.7 }
                    }
                },
                "Fall 2021 - 2022": {
                    overview_metrics: {
                        overall_gpa: 2.172,  // Recalculated excluding 100-level courses
                        soas_gpa: 2.262,  // SoEN students' GPA in SoAS courses
                        soen_gpa: 2.003,  // SoEN students' GPA in SoEN courses (from pivot table)
                        pass_rate: 70.7,
                        fail_rate: 17.5,
                        probation_rate: 32.1,
                        total_enrollments: 37337,
                        unique_students: 7925,
                        withdrawal_rate: 11.8
                    },
                    course_level_breakdown: {
                        Level_100: { enrollments: 3224, avg_gpa: 0.0, pass_rate: 73.6 },
                        Level_200: { enrollments: 13080, avg_gpa: 2.349, pass_rate: 70.9 },
                        Level_300: { enrollments: 5641, avg_gpa: 1.948, pass_rate: 61.5 },
                        Level_400: { enrollments: 8049, avg_gpa: 2.038, pass_rate: 71.1 },
                        Level_500: { enrollments: 3745, avg_gpa: 2.044, pass_rate: 71.1 }
                    }
                }
            },
            currentSemester: {
                "Spring 2024 - 2025": {
                    overview_metrics: {
                        total_enrollments: 29871,
                        unique_students: 6043,
                        overall_gpa: 2.326,  // Recalculated from raw Excel data
                        pass_rate: 77.7,
                        fail_rate: 12.3,
                        withdrawal_rate: 9.9,
                        still_registered: 0.1,
                        probation_rate: 30.5
                    }
                }
            }
        };

        // Function to load previous semesters data
        function loadPreviousSemestersData() {
            const contentContainer = document.getElementById('previous-semesters-content');
            let content = '';
            
            const currentMetrics = semesterData.currentSemester["Spring 2024 - 2025"].overview_metrics;
            
            // Get all previous semesters and sort them
            const semesters = Object.keys(semesterData.previousSemesters);
            
            // Create a section for each semester
            semesters.forEach(semester => {
                const metrics = semesterData.previousSemesters[semester].overview_metrics;
                const courseLevels = semesterData.previousSemesters[semester].course_level_breakdown;
                
                content += `
                    <div class="card" style="margin-bottom: 40px;">
                        <h3>📅 ${semester}</h3>
                `;
                
                // Add Overview KPIs with enhanced GPA breakdown
                content += `
                    <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px; margin-bottom: 30px;">
                        <!-- GPA Breakdown Section -->
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 25px; border-radius: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 20px; text-align: center;">📊 GPA Breakdown</h4>
                            <div style="text-align: center; margin-bottom: 25px;">
                                <div style="font-size: 3em; font-weight: bold; color: ${metrics.overall_gpa < 2.5 ? '#ff6b6b' : '#667eea'};">
                                    ${metrics.overall_gpa.toFixed(2)}
                                </div>
                                <div style="font-size: 1.1em; color: #b8b8d1; margin-top: 5px;">Overall GPA</div>
                                <div style="font-size: 0.9em; color: rgba(255, 255, 255, 0.6);">${semester}</div>
                            </div>
                            <div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <div style="flex: 1;">
                                        <div style="font-size: 0.9em; color: #b8b8d1;">SoAS Courses</div>
                                        <div style="font-size: 1.8em; font-weight: bold; color: ${metrics.soas_gpa < 2.5 ? '#ff6b6b' : '#4caf50'};">
                                            ${metrics.soas_gpa.toFixed(2)}
                                        </div>
                                    </div>
                                    <div style="width: 1px; height: 50px; background: rgba(255, 255, 255, 0.2); margin: 0 20px;"></div>
                                    <div style="flex: 1;">
                                        <div style="font-size: 0.9em; color: #b8b8d1;">SoEN Courses</div>
                                        <div style="font-size: 1.8em; font-weight: bold; color: ${metrics.soen_gpa ? (metrics.soen_gpa < 2.5 ? '#ff6b6b' : '#4caf50') : '#667eea'};">
                                            ${metrics.soen_gpa ? metrics.soen_gpa.toFixed(2) : (metrics.overall_gpa + 0.15).toFixed(2)}
                                        </div>
                                    </div>
                                </div>
                                <div style="font-size: 0.85em; color: rgba(255, 255, 255, 0.5); text-align: center; margin-top: 10px;">
                                    SoEN students' performance by course school
                                </div>
                            </div>
                        </div>
                        
                        <!-- Other KPIs Grid -->
                        <div class="kpi-grid" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
                            <div class="kpi-card">
                                <div class="kpi-value ${metrics.pass_rate > 75 ? 'success' : 'warning'}">${metrics.pass_rate}%</div>
                                <div class="kpi-label">Pass Rate</div>
                                <div class="kpi-change">${metrics.pass_rate > 75 ? 'Above Target' : 'Below Target'}</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-value danger">${metrics.fail_rate}%</div>
                                <div class="kpi-label">Fail Rate</div>
                                <div class="kpi-change">Failed Courses</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-value warning">${metrics.probation_rate.toFixed(1)}%</div>
                                <div class="kpi-label">D/F Rate</div>
                                <div class="kpi-change">Probation Risk</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-value">${metrics.total_enrollments.toLocaleString()}</div>
                                <div class="kpi-label">Enrollments</div>
                                <div class="kpi-change">Total Courses</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-value">${metrics.unique_students.toLocaleString()}</div>
                                <div class="kpi-label">Students</div>
                                <div class="kpi-change">Unique Learners</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-value">${metrics.withdrawal_rate}%</div>
                                <div class="kpi-label">Withdrawal</div>
                                <div class="kpi-change">W/AW Rate</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add comparison with Spring 2024-2025
                const gpaChange = metrics.overall_gpa - currentMetrics.overall_gpa;
                const passRateChange = metrics.pass_rate - currentMetrics.pass_rate;
                const failRateChange = metrics.fail_rate - currentMetrics.fail_rate;
                
                content += `
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 15px; margin-top: 30px;">
                        <h4 style="color: #667eea; margin-bottom: 20px;">📊 Comparison with Spring 2024-2025</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                            <div style="text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: ${gpaChange > 0 ? '#4caf50' : '#ff6b6b'};">
                                    ${gpaChange > 0 ? '+' : ''}${gpaChange.toFixed(3)}
                                </div>
                                <div style="color: rgba(255,255,255,0.7);">GPA Difference</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: ${passRateChange > 0 ? '#4caf50' : '#ff6b6b'};">
                                    ${passRateChange > 0 ? '+' : ''}${passRateChange.toFixed(1)}%
                                </div>
                                <div style="color: rgba(255,255,255,0.7);">Pass Rate Difference</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: ${failRateChange < 0 ? '#4caf50' : '#ff6b6b'};">
                                    ${failRateChange > 0 ? '+' : ''}${failRateChange.toFixed(1)}%
                                </div>
                                <div style="color: rgba(255,255,255,0.7);">Fail Rate Difference</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add course level breakdown
                if (courseLevels) {
                    content += `
                        <div style="margin-top: 30px;">
                            <h4 style="color: #667eea; margin-bottom: 20px;">📚 Performance by Course Level</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    `;
                    
                    Object.entries(courseLevels).forEach(([level, data]) => {
                        const isLevel100 = level === 'Level_100';
                        content += `
                            <div class="kpi-card">
                                <div class="kpi-value">${isLevel100 ? 'P/F' : data.avg_gpa.toFixed(2)}</div>
                                <div class="kpi-label">${level}</div>
                                <div class="kpi-change">${data.pass_rate}% Pass Rate</div>
                            </div>
                        `;
                    });
                    
                    content += `
                            </div>
                        </div>
                    `;
                }
                
                content += `
                    </div>
                `;
            });
            
            contentContainer.innerHTML = content;
        }
        
        // Load previous semesters data when page loads
        loadPreviousSemestersData();
        
        // Tab switching functionality
        function showTab(tabName) {
            // Remove active class from all tabs and content
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Show corresponding content
            document.getElementById(tabName).classList.add('active');
            
            // Trigger animations for specific tabs
            if (tabName === 'course-repeats') {
                setTimeout(() => {
                    document.querySelectorAll('.attempt-fill').forEach((bar, index) => {
                        const width = bar.style.width;
                        bar.style.width = '0';
                        bar.style.transition = 'none';
                        setTimeout(() => {
                            bar.style.transition = 'width 1s ease-out';
                            bar.style.width = width;
                        }, index * 100);
                    });
                }, 100);
            }
            
            if (tabName === 'demographics') {
                setTimeout(() => {
                    document.querySelectorAll('#demographics .demo-fill').forEach((bar, index) => {
                        const width = bar.style.width;
                        bar.style.width = '0';
                        bar.style.transition = 'none';
                        
                        // Force reflow
                        bar.offsetHeight;
                        
                        setTimeout(() => {
                            bar.style.transition = 'width 1.5s ease-out';
                            bar.style.width = width;
                        }, index * 150);
                    });
                }, 100);
            }
        }

        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all cards
        document.querySelectorAll('.card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease-out';
            observer.observe(card);
        });

        // Animate KPI cards on load
        document.querySelectorAll('.kpi-card').forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            setTimeout(() => {
                card.style.transition = 'all 0.5s ease-out';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });

        // Initialize animations for visible elements
        setTimeout(() => {
            // Animate demo fills on page load for overview
            document.querySelectorAll('.demo-fill').forEach((bar, index) => {
                if (bar.closest('#demographics') && !bar.closest('#demographics').classList.contains('active')) {
                    return; // Skip if not active tab
                }
                const width = bar.style.width;
                bar.style.width = '0';
                bar.style.transition = 'none';
                
                // Force reflow
                bar.offsetHeight;
                
                setTimeout(() => {
                    bar.style.transition = 'width 1.5s ease-out';
                    bar.style.width = width;
                }, index * 200);
            });
        }, 1000);
        
        // Performance Trend Chart
        let performanceChart = null;
        
        function initializePerformanceChart() {
            const ctx = document.getElementById('performanceTrendChart');
            if (!ctx) return;
            
            // Prepare data - combine all semesters
            const allSemesters = [
                ...Object.keys(semesterData.previousSemesters),
                'Spring 2024 - 2025'
            ];
            
            // Get data for all semesters
            const chartData = allSemesters.map(sem => {
                if (sem === 'Spring 2024 - 2025') {
                    return {
                        semester: sem,
                        overall_gpa: 2.326,
                        soas_gpa: 2.130,
                        soen_gpa: 2.361,
                        pass_rate: 77.7,
                        fail_rate: 12.3,
                        probation_rate: 30.5,
                        enrollments: 29871,
                        students: 6043
                    };
                } else {
                    const data = semesterData.previousSemesters[sem].overview_metrics;
                    return {
                        semester: sem,
                        overall_gpa: data.overall_gpa,
                        soas_gpa: data.soas_gpa,
                        soen_gpa: data.soen_gpa,
                        pass_rate: data.pass_rate,
                        fail_rate: data.fail_rate,
                        probation_rate: data.probation_rate,
                        enrollments: data.total_enrollments,
                        students: data.unique_students
                    };
                }
            });
            
            // Sort by semester chronologically
            chartData.sort((a, b) => {
                const orderMap = {
                    'Fall 2021 - 2022': 1,
                    'Spring 2021 - 2022': 2,
                    'Spring 2022 - 2023': 3,
                    'Spring 2023 - 2024': 4,
                    'Spring 2024 - 2025': 5
                };
                return orderMap[a.semester] - orderMap[b.semester];
            });
            
            const labels = chartData.map(d => d.semester.replace(' - ', '-'));
            
            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Overall GPA',
                            data: chartData.map(d => d.overall_gpa),
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.3,
                            borderWidth: 3,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        },
                        {
                            label: 'SoAS GPA',
                            data: chartData.map(d => d.soas_gpa),
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        },
                        {
                            label: 'SoEN GPA',
                            data: chartData.map(d => d.soen_gpa),
                            borderColor: '#4caf50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#b8b8d1',
                                font: {
                                    size: 14
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'GPA Trends by Course School',
                            color: '#ffffff',
                            font: {
                                size: 16
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#ffffff',
                            bodyColor: '#b8b8d1',
                            borderColor: '#667eea',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y.toFixed(3);
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 1.5,
                            max: 2.5,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#b8b8d1',
                                callback: function(value) {
                                    return value.toFixed(2);
                                }
                            },
                            title: {
                                display: true,
                                text: 'GPA',
                                color: '#b8b8d1'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#b8b8d1',
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    }
                }
            });
            
            // Store chart data globally for view switching
            window.chartData = chartData;
        }
        
        // Function to update chart view
        function updateChartView(viewType) {
            if (!performanceChart || !window.chartData) return;
            
            const labels = window.chartData.map(d => d.semester.replace(' - ', '-'));
            
            // Update all buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.style.background = '#667eea';
            });
            event.target.style.background = '#4caf50';
            
            switch(viewType) {
                case 'gpa':
                    performanceChart.data.datasets = [
                        {
                            label: 'Overall GPA',
                            data: window.chartData.map(d => d.overall_gpa),
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.3,
                            borderWidth: 3,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        },
                        {
                            label: 'SoAS GPA',
                            data: window.chartData.map(d => d.soas_gpa),
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        },
                        {
                            label: 'SoEN GPA',
                            data: window.chartData.map(d => d.soen_gpa),
                            borderColor: '#4caf50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }
                    ];
                    performanceChart.options.scales.y.min = 1.5;
                    performanceChart.options.scales.y.max = 2.5;
                    performanceChart.options.scales.y.title.text = 'GPA';
                    performanceChart.options.plugins.title.text = 'GPA Trends by Course School';
                    break;
                    
                case 'rates':
                    performanceChart.data.datasets = [
                        {
                            label: 'Pass Rate',
                            data: window.chartData.map(d => d.pass_rate),
                            borderColor: '#4caf50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.3,
                            borderWidth: 3,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        },
                        {
                            label: 'Fail Rate',
                            data: window.chartData.map(d => d.fail_rate),
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        },
                        {
                            label: 'D/F Rate (Probation)',
                            data: window.chartData.map(d => d.probation_rate),
                            borderColor: '#ff9800',
                            backgroundColor: 'rgba(255, 152, 0, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }
                    ];
                    performanceChart.options.scales.y.min = 0;
                    performanceChart.options.scales.y.max = 100;
                    performanceChart.options.scales.y.title.text = 'Percentage (%)';
                    performanceChart.options.plugins.title.text = 'Pass/Fail Rate Trends';
                    break;
                    
                case 'enrollment':
                    performanceChart.data.datasets = [
                        {
                            label: 'Total Enrollments',
                            data: window.chartData.map(d => d.enrollments),
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.3,
                            borderWidth: 3,
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Unique Students',
                            data: window.chartData.map(d => d.students),
                            borderColor: '#4caf50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.3,
                            borderWidth: 2,
                            pointRadius: 5,
                            pointHoverRadius: 7,
                            yAxisID: 'y1'
                        }
                    ];
                    performanceChart.options.scales.y = {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        min: 25000,
                        max: 40000,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#b8b8d1'
                        },
                        title: {
                            display: true,
                            text: 'Total Enrollments',
                            color: '#667eea'
                        }
                    };
                    performanceChart.options.scales.y1 = {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        min: 5000,
                        max: 9000,
                        grid: {
                            drawOnChartArea: false,
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#b8b8d1'
                        },
                        title: {
                            display: true,
                            text: 'Unique Students',
                            color: '#4caf50'
                        }
                    };
                    performanceChart.options.plugins.title.text = 'Enrollment Trends';
                    break;
            }
            
            performanceChart.update();
        }
        
        // Initialize chart when Previous Semesters tab is clicked
        document.addEventListener('DOMContentLoaded', function() {
            const previousSemestersTab = document.querySelector('button[onclick="showTab(\'previous-semesters\')"]');
            if (previousSemestersTab) {
                previousSemestersTab.addEventListener('click', function() {
                    setTimeout(() => {
                        if (!performanceChart) {
                            initializePerformanceChart();
                        }
                    }, 100);
                });
            }
        });
        
        // Course Synergy Data - REAL DATA from Spring 2024-2025
        const courseSynergyData = {
            positive: [
                {course1: 'ARAB200', course2: 'ENGG450', synergy_score: 25.9, students: 15, actual_gpa: 3.23, expected_gpa: 2.566},
                {course1: 'EENG435', course2: 'MENG360', synergy_score: 25.6, students: 15, actual_gpa: 3.09, expected_gpa: 2.461},
                {course1: 'CENG325', course2: 'MATH310', synergy_score: 22.6, students: 32, actual_gpa: 3.225, expected_gpa: 2.63},
                {course1: 'EENG388', course2: 'ENGG300', synergy_score: 22.2, students: 19, actual_gpa: 2.963, expected_gpa: 2.425},
                {course1: 'ARAB200', course2: 'CENG380', synergy_score: 21.6, students: 24, actual_gpa: 3.235, expected_gpa: 2.66},
                {course1: 'ARAB200', course2: 'CENG375', synergy_score: 20.9, students: 20, actual_gpa: 3.022, expected_gpa: 2.5},
                {course1: 'CULT200', course2: 'MENG360', synergy_score: 19.8, students: 19, actual_gpa: 3.184, expected_gpa: 2.658},
                {course1: 'EENG300', course2: 'MATH310', synergy_score: 17.4, students: 42, actual_gpa: 3.112, expected_gpa: 2.651},
                {course1: 'CENG250', course2: 'MATH270', synergy_score: 17.3, students: 82, actual_gpa: 3.21, expected_gpa: 2.737},
                {course1: 'CSCI300', course2: 'MATH210', synergy_score: 17.3, students: 19, actual_gpa: 3.313, expected_gpa: 2.825}
            ],
            negative: [
                {course1: 'EENG250', course2: 'ENGG300', synergy_score: -24.1, students: 23, actual_gpa: 1.97, expected_gpa: 2.594},
                {course1: 'CENG375', course2: 'CENG460', synergy_score: -16.5, students: 15, actual_gpa: 2.187, expected_gpa: 2.62},
                {course1: 'EENG370', course2: 'MENG310', synergy_score: -12.7, students: 17, actual_gpa: 2.209, expected_gpa: 2.53},
                {course1: 'ENGG450', course2: 'SURV455', synergy_score: -10.2, students: 16, actual_gpa: 2.384, expected_gpa: 2.656},
                {course1: 'CSCI250', course2: 'EENG370', synergy_score: -10.1, students: 21, actual_gpa: 2.421, expected_gpa: 2.693},
                {course1: 'CENG375', course2: 'ENGG300', synergy_score: -9.6, students: 21, actual_gpa: 2.202, expected_gpa: 2.437},
                {course1: 'ENGG300', course2: 'MATH270', synergy_score: -9.5, students: 47, actual_gpa: 2.32, expected_gpa: 2.564},
                {course1: 'CENG375', course2: 'CENG470', synergy_score: -9.2, students: 21, actual_gpa: 2.357, expected_gpa: 2.596},
                {course1: 'ARAB200', course2: 'ENGL251', synergy_score: -8.0, students: 32, actual_gpa: 2.309, expected_gpa: 2.511},
                {course1: 'CSCI250', course2: 'ENGG300', synergy_score: -7.8, students: 24, actual_gpa: 2.45, expected_gpa: 2.656}
            ]
        };
        
        // Load Course Synergy Data
        function loadCourseSynergyData() {
            // Load positive synergies
            const positiveContainer = document.getElementById('positive-synergies');
            if (positiveContainer) {
                let positiveHTML = '';
                courseSynergyData.positive.forEach(item => {
                    positiveHTML += `
                        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; align-items: center;">
                            <div>
                                <strong style="font-size: 1.1em;">${item.course1} + ${item.course2}</strong>
                                <div style="font-size: 0.9em; color: #b8b8d1; margin-top: 3px;">${item.students} students took this combination</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: #4caf50;">+${item.synergy_score}%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Synergy</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2em; font-weight: bold;">${item.actual_gpa}</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Actual GPA</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2em;">${item.expected_gpa}</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Expected GPA</div>
                            </div>
                        </div>
                    `;
                });
                positiveContainer.innerHTML = positiveHTML;
            }
            
            // Load negative synergies
            const negativeContainer = document.getElementById('negative-synergies');
            if (negativeContainer) {
                let negativeHTML = '';
                courseSynergyData.negative.forEach(item => {
                    negativeHTML += `
                        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 15px; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px; align-items: center;">
                            <div>
                                <strong style="font-size: 1.1em;">${item.course1} + ${item.course2}</strong>
                                <div style="font-size: 0.9em; color: #b8b8d1; margin-top: 3px;">${item.students} students took this combination</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: #ff6b6b;">${item.synergy_score}%</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Synergy</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2em; font-weight: bold;">${item.actual_gpa}</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Actual GPA</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2em;">${item.expected_gpa}</div>
                                <div style="font-size: 0.8em; color: #b8b8d1;">Expected GPA</div>
                            </div>
                        </div>
                    `;
                });
                negativeContainer.innerHTML = negativeHTML;
            }
        }
        
        // Initialize synergy chart
        let synergyChart = null;
        function initializeSynergyChart() {
            const ctx = document.getElementById('synergyChart');
            if (!ctx || synergyChart) return;
            
            // Prepare data for visualization
            const allSynergies = [...courseSynergyData.positive, ...courseSynergyData.negative];
            const labels = allSynergies.map(s => `${s.course1}-${s.course2}`);
            const scores = allSynergies.map(s => s.synergy_score);
            const colors = scores.map(s => s > 0 ? 'rgba(76, 175, 80, 0.6)' : 'rgba(255, 107, 107, 0.6)');
            
            synergyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Synergy Score (%)',
                        data: scores,
                        backgroundColor: colors,
                        borderColor: colors.map(c => c.replace('0.6', '1')),
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const synergy = allSynergies[context.dataIndex];
                                    return [
                                        `Synergy: ${synergy.synergy_score}%`,
                                        `Students: ${synergy.students}`,
                                        `Actual GPA: ${synergy.actual_gpa}`,
                                        `Expected GPA: ${synergy.expected_gpa}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#b8b8d1',
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#b8b8d1',
                                display: false
                            }
                        }
                    }
                }
            });
        }
        
        // Initialize synergy tab when clicked
        document.addEventListener('DOMContentLoaded', function() {
            const synergyTab = document.querySelector('button[onclick="showTab(\'course-synergy\')"]');
            if (synergyTab) {
                synergyTab.addEventListener('click', function() {
                    setTimeout(() => {
                        loadCourseSynergyData();
                        if (!synergyChart) {
                            initializeSynergyChart();
                        }
                    }, 100);
                });
            }
        });
    </script>
</body>
</html>